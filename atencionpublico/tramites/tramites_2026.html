<!DOCTYPE html>
<html lang="es">
<head>
    <meta charset="UTF-8">
    <meta name="viewport" content="width=device-width, initial-scale=1.0">
    <title>Sistema de GestiÃ³n de TrÃ¡mites 2026</title>
    <link rel="stylesheet" href="css/estilos.css">
</head>
<body>
<div class="container">
        <header>
            <h1>ğŸ“‹ Sistema de GestiÃ³n de TrÃ¡mites 2026</h1>
            <div class="header-buttons">
                <button class="btn-primary" onclick="abrirAgregar()">â• Agregar TrÃ¡mite</button>
                <button class="btn-primary" onclick="volverAlMenu()" style="background:#ff9800;">ğŸ  MenÃº</button>
                <button class="btn-primary" onclick="solicitarSalir()" style="background:#e74c3c;">ğŸšª Salir</button>
            </div>
        </header>
        <div class="filtros">
            <label>ğŸ” Buscar:</label>
            <input type="text" id="filtroNombre" placeholder="Nombre o Clave..." onkeyup="filtrar()">
            <label>ğŸ“‚ CategorÃ­a:</label>
            <select id="filtroCategoria" onchange="filtrar()"><option value="">Todas</option></select>
            <button class="btn-primary" onclick="limpiarFiltros()">ğŸ”„ Limpiar</button>
            <button class="btn-primary" onclick="descargarExcel()" style="background:#27ae60;">ğŸ“¥ Descargar Excel</button>
            <button class="btn-primary" onclick="cargarDatosIniciales()" style="background:#e74c3c;" id="btnCargarDatos">â¬‡ï¸ Cargar Datos</button>
        </div>
        <div class="categorias" id="categoriasContainer"></div>
    </div>
    <div id="zoomModal" class="modal-zoom"><span class="close-zoom" onclick="cerrarZoom()">&times;</span><img id="zoomImg" class="zoom-image"></div>
    <div id="modalMenuPrincipal" class="modal"><div class="modal-content" style="max-width:400px;"><h2 style="text-align:center;">ğŸ” ContraseÃ±a Requerida</h2><div class="form-group"><label>ContraseÃ±a:</label><input type="password" id="inputPasswordMenu" placeholder="Ingresa contraseÃ±a..."></div><div id="errorMsgMenu" style="color:#e74c3c;text-align:center;margin:15px 0;display:none;font-weight:600;"></div><div class="button-group"><button class="btn btn-save" onclick="verificarPasswordMenu()">âœ… Aceptar</button><button class="btn btn-cancel" onclick="cerrarModalMenu()">âŒ Cancelar</button></div></div></div>
    <div id="modalVer" class="modal"><div class="modal-content"><span class="close" onclick="cerrarModalVer()">&times;</span><div id="detalleContenido"></div><div class="button-group"><button class="btn btn-cancel" onclick="cerrarModalVer()">Cerrar</button></div></div></div>
    <div id="modalEditar" class="modal"><div class="modal-content"><span class="close" onclick="cerrarModalEditar()">&times;</span><h2 id="tituloModal">Agregar Nuevo TrÃ¡mite</h2>
        <div class="tabs"><button class="tab active" onclick="cambiarTab('info')">ğŸ“‹ Info</button><button class="tab" onclick="cambiarTab('etapas')">ğŸ“ Etapas</button><button class="tab" onclick="cambiarTab('requisitos')">âœ… Requisitos</button><button class="tab" onclick="cambiarTab('presupuesto')">ğŸ’° Presupuesto</button><button class="tab" onclick="cambiarTab('imagenes')">ğŸ–¼ï¸ ImÃ¡genes</button></div>
        <div id="info" class="tab-content active"><div class="form-group"><label>Nombre *</label><input type="text" id="nombreTramite"></div><div class="form-row"><div class="form-group"><label>Clave *</label><input type="number" id="claveTramite"></div><div class="form-group"><label>Estado *</label><select id="estadoTramite"><option>Agregar</option><option>Se modificÃ³</option><option>Se queda igual</option></select></div></div><div class="form-row"><div class="form-group"><label>CategorÃ­a *</label><select id="categoriaTramite"></select></div><div class="form-group"><label>Filtros</label><input type="text" id="filtrosTramite"></div></div><div class="form-group"><label>DescripciÃ³n *</label><textarea id="descripcionTramite"></textarea></div><div class="form-group"><label>Resultado</label><textarea id="resultadoTramite"></textarea></div></div>
        <div id="etapas" class="tab-content"><div id="etapasContainer"></div><button class="btn-primary" onclick="agregarEtapa()" style="width:100%;margin-top:10px;">â• Agregar Etapa</button></div>
        <div id="requisitos" class="tab-content"><div class="form-group"><label>Requisitos *</label><textarea id="requisitosTramite"></textarea></div><div class="form-group"><label>Ã“rdenes de Trabajo</label><input type="text" id="ordenesTrabajo" placeholder="OT-001, OT-002..."></div></div>
        <div id="presupuesto" class="tab-content"><div class="presupuesto-header"><div class="form-group"><label>Presupuesto</label><select id="nombrePresupuesto" style="width:100%;padding:12px;border:2px solid #e8eaff;border-radius:6px;">
            <option value="">-- Seleccionar --</option>
            <option value="1">1 - Contratacion nuevos servicios</option>
            <option value="2">2 - Venta de agua tratada</option>
            <option value="3">3 - Descarga de desechos PTAR</option>
            <option value="4">4 - Venta de agua a pipas</option>
            <option value="5">5 - Factibilidad</option>
            <option value="101">101 - ReconexiÃ³n con costo</option>
            <option value="102">102 - Limpieza fosa sÃ©ptica casa habitaciÃ³n</option>
            <option value="103">103 - Limpieza fosa sÃ©ptica comercio/industria</option>
            <option value="106">106 - ReubicaciÃ³n medidor 1/2&quot;</option>
            <option value="130">130 - Tierra albaÃ±al, toma, cuadro y medidor</option>
            <option value="131">131 - Venta medidor y/o cuadro</option>
            <option value="132">132 - Tierra ConexiÃ³n albaÃ±al</option>
            <option value="133">133 - ContrataciÃ³n descarga sanitaria</option>
            <option value="135">135 - Tierra Toma agua, cuadro y/o medidor</option>
            <option value="140">140 - Venta medidor nueva contrataciÃ³n</option>
            <option value="141">141 - Presupuesto libre</option>
            <option value="145">145 - Parcialidades Rodamiento</option>
            <option value="147">147 - ReconexiÃ³n toma de agua</option>
            <option value="148">148 - CancelaciÃ³n toma</option>
            <option value="149">149 - SuspensiÃ³n voluntaria temporal</option>
            <option value="156">156 - Rodamiento albaÃ±al, toma, cuadro y/o medidor</option>
            <option value="157">157 - Rodamiento Toma agua, cuadro y/o medidor</option>
            <option value="158">158 - Rodamiento ConexiÃ³n albaÃ±al</option>
            <option value="159">159 - ConstrucciÃ³n caja registro banqueta</option>
            <option value="160">160 - Venta caja polietileno</option>
            <option value="161">161 - Parcialidades Tierra</option>
            <option value="162">162 - ReubicaciÃ³n medidor 1-1/2&quot; GU</option>
            <option value="163">163 - ReubicaciÃ³n medidor 2&quot; GU</option>
            <option value="169">169 - ReubicaciÃ³n medidor 3&quot; GU</option>
            <option value="170">170 - ReubicaciÃ³n medidor 4&quot; GU</option>
            <option value="171">171 - ReubicaciÃ³n cuadro 1/2 a 1&quot;</option>
            <option value="172">172 - ReubicaciÃ³n medidor 1&quot; GU</option>
            <option value="174">174 - ReconexiÃ³n toma 1&quot; GU</option>
            <option value="176">176 - Venta bases licitaciÃ³n</option>
            <option value="204">204 - ReconexiÃ³n toma cuadro y/o registro</option>
            <option value="205">205 - ReconexiÃ³n voluntaria temporal</option>
            <option value="206">206 - ReubicaciÃ³n medidor a caja registro</option>
        </select></div><div class="form-group"><label>Cantidad mÂ³</label><input type="number" id="cantidadM3" placeholder="0" step="0.01" min="0" onchange="actualizarResumen()"></div></div>
                <h3>Conceptos</h3><div class="conceptos-container" id="conceptosContainer"></div><button class="btn-agregar-concepto" onclick="agregarConcepto()">â• Agregar Concepto</button><h3>Resumen</h3><div class="resumen-presupuesto" id="resumenPresupuesto"></div></div>
        <div id="imagenes" class="tab-content"><div class="form-group"><label>Subir ImÃ¡genes (mÃ¡x 5)</label><input type="file" id="inputImagenes" multiple accept="image/*" onchange="agregarImagenes(event)"><div id="imagenesContainer" class="imagenes-container" style="margin-top:15px;"></div><div id="contadorImagenes" style="margin-top:10px;color:#667eea;font-weight:600;">0/5</div></div></div>
        <div class="button-group"><button class="btn btn-save" onclick="guardarTramite()">ğŸ’¾ Guardar</button><button class="btn btn-cancel" onclick="cerrarModalEditar()">âŒ Cancelar</button></div>
    </div></div>
    <div id="passwordModal" class="password-modal"><div class="password-content"><h3>ğŸ” ContraseÃ±a requerida</h3><div class="password-group"><label>ContraseÃ±a:</label><input type="password" id="passwordInput" placeholder="ContraseÃ±a..." onkeypress="if(event.key==='Enter')verificarPassword()"></div><div class="password-buttons"><button class="btn-ok" onclick="verificarPassword()">âœ… Aceptar</button><button class="btn-cancel-pwd" onclick="cerrarPassword()">âŒ Cancelar</button></div></div></div>

    <!-- Scripts separados por mÃ³dulo -->
    <script src="js/seguridad.js"></script>
    <script src="js/conceptos.js"></script>
    <script src="js/datos.js"></script>
    <script src="js/app.js"></script>
</body>
</html>