<!DOCTYPE html>
<html lang="es">
<head>
    <meta charset="UTF-8">
    <meta name="viewport" content="width=device-width, initial-scale=1.0">
    <title>Sistema de Consulta - Con Carga de Archivos</title>
    
    <!-- LIBRER√çA PARA LEER EXCEL Y CSV -->
    <script src="https://cdnjs.cloudflare.com/ajax/libs/xlsx/0.18.5/xlsx.full.min.js"></script>
    <script src="https://cdnjs.cloudflare.com/ajax/libs/PapaParse/5.4.1/papaparse.min.js"></script>
    
    <style>
        * {
            margin: 0;
            padding: 0;
            box-sizing: border-box;
        }
        
        body {
            font-family: 'Segoe UI', Tahoma, Geneva, Verdana, sans-serif;
            background: linear-gradient(135deg, #667eea 0%, #764ba2 100%);
            min-height: 100vh;
            padding: 20px;
        }
        
        .container {
            max-width: 1400px;
            margin: 0 auto;
            background: white;
            border-radius: 15px;
            box-shadow: 0 20px 60px rgba(0,0,0,0.3);
            overflow: hidden;
        }
        
        header {
            background: linear-gradient(135deg, #667eea 0%, #764ba2 100%);
            color: white;
            padding: 30px;
            text-align: center;
            position: relative;
        }
        
        header h1 {
            font-size: 2.5em;
            margin-bottom: 10px;
        }
        
        header p {
            font-size: 1.1em;
            opacity: 0.9;
        }
        
        .btn-navigation {
            position: absolute;
            top: 30px;
            right: 30px;
            padding: 12px 24px;
            background: rgba(255, 255, 255, 0.2);
            border: 2px solid white;
            border-radius: 8px;
            color: white;
            font-size: 16px;
            font-weight: 600;
            cursor: pointer;
            transition: all 0.3s ease;
            backdrop-filter: blur(10px);
        }
        
        .btn-navigation:hover {
            background: white;
            color: #667eea;
            transform: translateY(-2px);
        }
        
        /* MODALES */
        .modal {
            display: none;
            position: fixed;
            z-index: 1000;
            left: 0;
            top: 0;
            width: 100%;
            height: 100%;
            background-color: rgba(0,0,0,0.5);
            backdrop-filter: blur(5px);
        }
        
        .modal.active {
            display: flex;
            justify-content: center;
            align-items: center;
        }
        
        .modal-content {
            background: white;
            padding: 40px;
            border-radius: 15px;
            box-shadow: 0 20px 60px rgba(0,0,0,0.3);
            max-width: 600px;
            width: 90%;
            max-height: 80vh;
            overflow-y: auto;
            animation: slideDown 0.3s ease;
        }
        
        @keyframes slideDown {
            from { opacity: 0; transform: translateY(-50px); }
            to { opacity: 1; transform: translateY(0); }
        }
        
        .modal-header {
            text-align: center;
            margin-bottom: 30px;
        }
        
        .modal-header h2 {
            color: #667eea;
            font-size: 1.8em;
            margin-bottom: 10px;
        }
        
        .modal-header p {
            color: #666;
            font-size: 0.95em;
        }
        
        .form-group {
            margin-bottom: 20px;
        }
        
        .form-group label {
            display: block;
            margin-bottom: 8px;
            color: #333;
            font-weight: 600;
        }
        
        .form-group input {
            width: 100%;
            padding: 12px 15px;
            border: 2px solid #e0e0e0;
            border-radius: 8px;
            font-size: 1em;
            transition: all 0.3s ease;
        }
        
        .form-group input:focus {
            outline: none;
            border-color: #667eea;
            box-shadow: 0 0 0 3px rgba(102, 126, 234, 0.1);
        }
        
        /* ZONA DE CARGA DE ARCHIVOS */
        .file-drop-zone {
            border: 3px dashed #667eea;
            border-radius: 10px;
            padding: 40px 20px;
            text-align: center;
            background: #f8f9ff;
            cursor: pointer;
            transition: all 0.3s ease;
            margin-bottom: 20px;
        }
        
        .file-drop-zone:hover {
            background: #e8edff;
            border-color: #5568d3;
        }
        
        .file-drop-zone.dragover {
            background: #d8e3ff;
            border-color: #4557c2;
            transform: scale(1.02);
        }
        
        .file-drop-zone .icon {
            font-size: 3em;
            margin-bottom: 15px;
        }
        
        .file-drop-zone p {
            margin: 10px 0;
            color: #667eea;
            font-size: 1.1em;
        }
        
        .file-drop-zone .formats {
            font-size: 0.9em;
            color: #999;
            margin-top: 10px;
        }
        
        .file-info {
            margin-top: 15px;
            padding: 15px;
            background: #e8f5e9;
            border-radius: 8px;
            border-left: 4px solid #27ae60;
            display: none;
        }
        
        .file-info.show {
            display: block;
        }
        
        .file-info p {
            color: #2e7d32;
            margin: 5px 0;
        }
        
        .modal-buttons {
            display: flex;
            gap: 10px;
            margin-top: 25px;
        }
        
        .btn-modal {
            flex: 1;
            padding: 12px;
            border: none;
            border-radius: 8px;
            font-size: 1em;
            font-weight: 600;
            cursor: pointer;
            transition: all 0.3s ease;
        }
        
        .btn-confirm {
            background: linear-gradient(135deg, #667eea 0%, #764ba2 100%);
            color: white;
        }
        
        .btn-confirm:hover:not(:disabled) {
            transform: translateY(-2px);
            box-shadow: 0 6px 12px rgba(102, 126, 234, 0.3);
        }
        
        .btn-confirm:disabled {
            opacity: 0.5;
            cursor: not-allowed;
        }
        
        .btn-cancel {
            background: #e0e0e0;
            color: #666;
        }
        
        .btn-cancel:hover {
            background: #d0d0d0;
        }
        
        .error-message {
            display: none;
            background: #fee;
            color: #c33;
            padding: 10px 15px;
            border-radius: 8px;
            margin-top: 15px;
            text-align: center;
            border: 1px solid #fcc;
        }
        
        .error-message.show {
            display: block;
            animation: shake 0.5s ease;
        }
        
        @keyframes shake {
            0%, 100% { transform: translateX(0); }
            25% { transform: translateX(-10px); }
            75% { transform: translateX(10px); }
        }
        
        /* PESTA√ëAS */
        .tabs {
            display: flex;
            background: #f8f9fa;
            border-bottom: 3px solid #e0e0e0;
        }
        
        .tab-button {
            flex: 1;
            padding: 20px;
            background: #f8f9fa;
            border: none;
            cursor: pointer;
            font-size: 1.1em;
            font-weight: 600;
            color: #666;
            transition: all 0.3s ease;
            border-bottom: 3px solid transparent;
            margin-bottom: -3px;
        }
        
        .tab-button:hover {
            background: #e9ecef;
            color: #333;
        }
        
        .tab-button.active {
            background: white;
            color: #667eea;
            border-bottom-color: #667eea;
        }
        
        /* CONTENIDO */
        .content {
            padding: 30px;
        }
        
        .tab-content {
            display: none;
        }
        
        .tab-content.active {
            display: block;
            animation: fadeIn 0.3s ease;
        }
        
        @keyframes fadeIn {
            from { opacity: 0; transform: translateY(10px); }
            to { opacity: 1; transform: translateY(0); }
        }
        
        /* BARRA DE HERRAMIENTAS */
        .toolbar {
            display: flex;
            gap: 10px;
            margin-bottom: 25px;
            flex-wrap: wrap;
            padding: 15px;
            background: #f8f9fa;
            border-radius: 10px;
            border: 2px solid #e0e0e0;
        }
        
        .btn-tool {
            padding: 10px 20px;
            border: none;
            border-radius: 8px;
            color: white;
            font-size: 14px;
            font-weight: 600;
            cursor: pointer;
            transition: all 0.3s ease;
            box-shadow: 0 2px 4px rgba(0,0,0,0.1);
        }
        
        .btn-tool:hover {
            transform: translateY(-2px);
            box-shadow: 0 4px 8px rgba(0,0,0,0.15);
        }
        
        .btn-tool:disabled {
            opacity: 0.5;
            cursor: not-allowed;
            transform: none;
        }
        
        .btn-upload {
            background: #9b59b6;
        }
        
        .btn-add-column {
            background: #3498db;
        }
        
        .btn-save {
            background: #27ae60;
        }
        
        .btn-reset {
            background: #e74c3c;
        }
        
        /* B√öSQUEDA */
        .search-box {
            margin-bottom: 25px;
            position: relative;
        }
        
        .search-box input {
            width: 100%;
            padding: 15px 50px 15px 20px;
            font-size: 1em;
            border: 2px solid #e0e0e0;
            border-radius: 10px;
            transition: all 0.3s ease;
        }
        
        .search-box input:focus {
            outline: none;
            border-color: #667eea;
            box-shadow: 0 0 0 3px rgba(102, 126, 234, 0.1);
        }
        
        .search-icon {
            position: absolute;
            right: 20px;
            top: 50%;
            transform: translateY(-50%);
            color: #999;
            font-size: 1.2em;
        }
        
        /* ESTAD√çSTICAS */
        .stats {
            display: flex;
            gap: 15px;
            margin-bottom: 25px;
            flex-wrap: wrap;
        }
        
        .stat-card {
            flex: 1;
            min-width: 200px;
            padding: 20px;
            background: linear-gradient(135deg, #667eea 0%, #764ba2 100%);
            color: white;
            border-radius: 10px;
            text-align: center;
        }
        
        .stat-card h3 {
            font-size: 2em;
            margin-bottom: 5px;
        }
        
        .stat-card p {
            opacity: 0.9;
            font-size: 0.9em;
        }
        
        /* TABLAS */
        table {
            width: 100%;
            border-collapse: collapse;
            background: white;
            box-shadow: 0 2px 10px rgba(0,0,0,0.05);
            border-radius: 10px;
            overflow: hidden;
        }
        
        thead {
            background: linear-gradient(135deg, #667eea 0%, #764ba2 100%);
            color: white;
        }
        
        th {
            padding: 15px;
            text-align: left;
            font-weight: 600;
            font-size: 0.95em;
            text-transform: uppercase;
            letter-spacing: 0.5px;
            position: relative;
        }
        
        th .btn-delete-column {
            position: absolute;
            right: 5px;
            top: 50%;
            transform: translateY(-50%);
            background: rgba(255,255,255,0.2);
            border: 1px solid white;
            color: white;
            border-radius: 4px;
            padding: 3px 8px;
            font-size: 12px;
            cursor: pointer;
            transition: all 0.2s ease;
            display: none;
        }
        
        th .btn-delete-column.editable {
            display: inline-block;
        }
        
        th .btn-delete-column:hover {
            background: #e74c3c;
            border-color: #e74c3c;
        }
        
        td {
            padding: 15px;
            border-bottom: 1px solid #f0f0f0;
        }
        
        td.editable {
            cursor: text;
            position: relative;
        }
        
        td.editable:hover {
            background: #f0f8ff;
            outline: 2px solid #3498db;
        }
        
        td.read-only {
            cursor: default;
        }
        
        td input {
            width: 100%;
            padding: 8px;
            border: 2px solid #3498db;
            border-radius: 4px;
            font-size: 14px;
        }
        
        tbody tr {
            transition: background 0.2s ease;
        }
        
        tbody tr:hover {
            background: #f8f9fa;
        }
        
        .btn-delete-row {
            padding: 6px 12px;
            background: #e74c3c;
            color: white;
            border: none;
            border-radius: 5px;
            cursor: pointer;
            font-size: 12px;
            font-weight: 600;
            transition: all 0.2s ease;
            display: none;
        }
        
        .btn-delete-row.editable {
            display: inline-block;
        }
        
        .btn-delete-row:hover {
            background: #c0392b;
            transform: scale(1.05);
        }
        
        .no-results {
            text-align: center;
            padding: 40px;
            color: #999;
            font-size: 1.1em;
        }
        
        /* BOTONES DE ACCI√ìN */
        .action-buttons {
            display: flex;
            gap: 15px;
            justify-content: center;
            padding: 30px;
            background: #f8f9fa;
            border-top: 2px solid #e0e0e0;
            flex-wrap: wrap;
        }
        
        .btn-primary {
            padding: 12px 24px;
            border: none;
            border-radius: 8px;
            color: white;
            font-size: 16px;
            font-weight: 600;
            cursor: pointer;
            transition: all 0.3s ease;
            box-shadow: 0 4px 6px rgba(0,0,0,0.1);
        }
        
        .btn-primary:hover {
            transform: translateY(-2px);
            box-shadow: 0 6px 12px rgba(0,0,0,0.15);
        }
        
        /* NOTIFICACIONES */
        .notification {
            position: fixed;
            top: 20px;
            right: 20px;
            padding: 15px 25px;
            background: white;
            border-radius: 10px;
            box-shadow: 0 4px 12px rgba(0,0,0,0.15);
            z-index: 2000;
            display: none;
            animation: slideIn 0.3s ease;
        }
        
        .notification.show {
            display: block;
        }
        
        .notification.success {
            border-left: 4px solid #27ae60;
        }
        
        .notification.error {
            border-left: 4px solid #e74c3c;
        }
        
        .notification.warning {
            border-left: 4px solid #f39c12;
        }
        
        @keyframes slideIn {
            from { transform: translateX(400px); opacity: 0; }
            to { transform: translateX(0); opacity: 1; }
        }
        
        /* MODO BLOQUEADO */
        .locked-overlay {
            position: absolute;
            top: 0;
            left: 0;
            right: 0;
            bottom: 0;
            background: rgba(255, 255, 255, 0.95);
            display: none;
            justify-content: center;
            align-items: center;
            z-index: 100;
            flex-direction: column;
            gap: 20px;
        }
        
        .locked-overlay.active {
            display: flex;
        }
        
        .locked-overlay .icon {
            font-size: 4em;
        }
        
        .locked-overlay p {
            font-size: 1.2em;
            color: #666;
        }
        
        /* RESPONSIVE */
        @media (max-width: 768px) {
            header h1 {
                font-size: 1.8em;
            }
            
            .btn-navigation {
                position: static;
                margin-top: 15px;
                width: 100%;
            }
            
            .tabs {
                flex-direction: column;
            }
            
            .toolbar {
                flex-direction: column;
            }
            
            .btn-tool {
                width: 100%;
            }
            
            .stat-card {
                min-width: 100%;
            }
            
            table {
                font-size: 0.9em;
            }
            
            th, td {
                padding: 10px;
            }
        }
    </style>
</head>
<body>
    <!-- NOTIFICACI√ìN -->
    <div id="notification" class="notification"></div>

    <!-- MODAL DE CONTRASE√ëA -->
    <div id="passwordModal" class="modal">
        <div class="modal-content">
            <div class="modal-header">
                <h2>üîí Acceso Restringido</h2>
                <p>Ingresa la contrase√±a para continuar</p>
            </div>
            
            <div class="form-group">
                <label for="passwordInput">Contrase√±a:</label>
                <input 
                    type="password" 
                    id="passwordInput" 
                    placeholder="Ingresa tu contrase√±a"
                    onkeypress="handlePasswordKeyPress(event)"
                    autocomplete="off"
                >
            </div>
            
            <div class="error-message" id="errorMessage">
                ‚ùå Contrase√±a incorrecta. Int√©ntalo de nuevo.
            </div>
            
            <div class="modal-buttons">
                <button class="btn-modal btn-cancel" onclick="cerrarModal('passwordModal')">Cancelar</button>
                <button class="btn-modal btn-confirm" onclick="verificarContrasena()">Ingresar</button>
            </div>
        </div>
    </div>

    <!-- MODAL DESBLOQUEAR EDICI√ìN -->
    <div id="unlockModal" class="modal">
        <div class="modal-content">
            <div class="modal-header">
                <h2>üîì Desbloquear Edici√≥n</h2>
                <p>Ingresa la contrase√±a para habilitar la edici√≥n</p>
            </div>
            
            <div class="form-group">
                <label for="unlockPasswordInput">Contrase√±a:</label>
                <input 
                    type="password" 
                    id="unlockPasswordInput" 
                    placeholder="Ingresa tu contrase√±a"
                    onkeypress="handleUnlockKeyPress(event)"
                    autocomplete="off"
                >
            </div>
            
            <div class="error-message" id="unlockErrorMessage">
                ‚ùå Contrase√±a incorrecta. Int√©ntalo de nuevo.
            </div>
            
            <div class="modal-buttons">
                <button class="btn-modal btn-cancel" onclick="cerrarModal('unlockModal')">Cancelar</button>
                <button class="btn-modal btn-confirm" onclick="verificarDesbloqueo()">Desbloquear</button>
            </div>
        </div>
    </div>

    <!-- MODAL CARGAR ARCHIVO -->
    <div id="uploadModal" class="modal">
        <div class="modal-content">
            <div class="modal-header">
                <h2>üì§ Cargar Listado</h2>
                <p>Arrastra un archivo o haz click para seleccionar</p>
            </div>
            
            <input type="file" id="fileInput" accept=".xlsx,.xls,.csv" style="display: none;">
            
            <div class="file-drop-zone" id="fileDropZone" onclick="document.getElementById('fileInput').click()">
                <div class="icon">üìÅ</div>
                <p><strong>Arrastra un archivo aqu√≠</strong></p>
                <p>o haz click para seleccionar</p>
                <p class="formats">Formatos aceptados: Excel (.xlsx, .xls) y CSV (.csv)</p>
            </div>
            
            <div class="file-info" id="fileInfo">
                <p><strong>Archivo seleccionado:</strong></p>
                <p id="fileName"></p>
                <p id="fileDetails"></p>
            </div>
            
            <div class="modal-buttons">
                <button class="btn-modal btn-cancel" onclick="cerrarModal('uploadModal')">Cancelar</button>
                <button class="btn-modal btn-confirm" id="btnCargarArchivo" onclick="cargarArchivo()" disabled>Cargar Datos</button>
            </div>
        </div>
    </div>

    <!-- MODAL AGREGAR COLUMNA -->
    <div id="addColumnModal" class="modal">
        <div class="modal-content">
            <div class="modal-header">
                <h2>‚ûï Agregar Nueva Columna</h2>
                <p>Ingresa el nombre de la nueva columna</p>
            </div>
            
            <div class="form-group">
                <label for="columnNameInput">Nombre de la columna:</label>
                <input 
                    type="text" 
                    id="columnNameInput" 
                    placeholder="Ej: Nueva Columna"
                    onkeypress="handleColumnKeyPress(event)"
                >
            </div>
            
            <div class="modal-buttons">
                <button class="btn-modal btn-cancel" onclick="cerrarModal('addColumnModal')">Cancelar</button>
                <button class="btn-modal btn-confirm" onclick="agregarColumna()">Agregar</button>
            </div>
        </div>
    </div>

    <div class="container">
        <header>
            <button class="btn-navigation" onclick="solicitarContrasenaNavegacion()">
                üè† Ir al Sistema Principal
            </button>
            
            <h1>üìä Sistema de Consulta</h1>
            <p>Carga y Consulta de Datos con Protecci√≥n</p>
        </header>
        
        <div class="tabs">
            <button class="tab-button active" onclick="showTab('conceptos', event)">
                üí° Conceptos
            </button>
            <button class="tab-button" onclick="showTab('presupuestos', event)">
                üí∞ Presupuestos
            </button>
            <button class="tab-button" onclick="showTab('tramites', event)">
                üìã Tr√°mites
            </button>
        </div>
        
        <div class="content">
            <!-- TAB CONCEPTOS -->
            <div id="conceptos" class="tab-content active">
                <div class="toolbar">
                    <button class="btn-tool btn-upload" onclick="solicitarCargarArchivo('conceptos')">
                        üì§ Cargar Listado
                    </button>
                    <button class="btn-tool btn-add-column" onclick="solicitarAgregarColumna('conceptos')" id="btnAddColumnConceptos" disabled>
                        ‚ûï Agregar Columna
                    </button>
                    <button class="btn-tool btn-save" onclick="guardarCambios('conceptos')" id="btnSaveConceptos" disabled>
                        üíæ Guardar Cambios
                    </button>
                    <button class="btn-tool btn-reset" onclick="resetearDatos('conceptos')" id="btnResetConceptos" disabled>
                        üîÑ Resetear Datos
                    </button>
                    <button class="btn-tool" onclick="solicitarDesbloquear()" id="btnUnlock" style="background:#f39c12;">
                        üîì Modo Edici√≥n
                    </button>
                </div>
                
                <div class="search-box">
                    <input type="text" id="searchConceptos" placeholder="Buscar en conceptos..." onkeyup="filterTable('conceptos')">
                    <span class="search-icon">üîç</span>
                </div>
                
                <div class="stats">
                    <div class="stat-card">
                        <h3 id="totalConceptos">0</h3>
                        <p>Total Conceptos</p>
                    </div>
                </div>
                
                <div style="overflow-x: auto; position: relative;">
                    <div class="locked-overlay" id="lockedConceptos">
                        <div class="icon">üîí</div>
                        <p>Modo solo lectura</p>
                        <p style="font-size: 0.9em; color: #999;">Click en "üîì Modo Edici√≥n" para editar</p>
                    </div>
                    <table id="tableConceptos">
                        <thead>
                            <tr id="headConceptos"></tr>
                        </thead>
                        <tbody id="bodyConceptos"></tbody>
                    </table>
                </div>
            </div>
            
            <!-- TAB PRESUPUESTOS -->
            <div id="presupuestos" class="tab-content">
                <div class="toolbar">
                    <button class="btn-tool btn-upload" onclick="solicitarCargarArchivo('presupuestos')">
                        üì§ Cargar Listado
                    </button>
                    <button class="btn-tool btn-add-column" onclick="solicitarAgregarColumna('presupuestos')" id="btnAddColumnPresupuestos" disabled>
                        ‚ûï Agregar Columna
                    </button>
                    <button class="btn-tool btn-save" onclick="guardarCambios('presupuestos')" id="btnSavePresupuestos" disabled>
                        üíæ Guardar Cambios
                    </button>
                    <button class="btn-tool btn-reset" onclick="resetearDatos('presupuestos')" id="btnResetPresupuestos" disabled>
                        üîÑ Resetear Datos
                    </button>
                </div>
                
                <div class="search-box">
                    <input type="text" id="searchPresupuestos" placeholder="Buscar en presupuestos..." onkeyup="filterTable('presupuestos')">
                    <span class="search-icon">üîç</span>
                </div>
                
                <div class="stats">
                    <div class="stat-card">
                        <h3 id="totalPresupuestos">0</h3>
                        <p>Total Presupuestos</p>
                    </div>
                </div>
                
                <div style="overflow-x: auto; position: relative;">
                    <div class="locked-overlay" id="lockedPresupuestos">
                        <div class="icon">üîí</div>
                        <p>Modo solo lectura</p>
                        <p style="font-size: 0.9em; color: #999;">Click en "üîì Modo Edici√≥n" para editar</p>
                    </div>
                    <table id="tablePresupuestos">
                        <thead>
                            <tr id="headPresupuestos"></tr>
                        </thead>
                        <tbody id="bodyPresupuestos"></tbody>
                    </table>
                </div>
            </div>
            
            <!-- TAB TR√ÅMITES -->
            <div id="tramites" class="tab-content">
                <div class="toolbar">
                    <button class="btn-tool btn-upload" onclick="solicitarCargarArchivo('tramites')">
                        üì§ Cargar Listado
                    </button>
                    <button class="btn-tool btn-add-column" onclick="solicitarAgregarColumna('tramites')" id="btnAddColumnTramites" disabled>
                        ‚ûï Agregar Columna
                    </button>
                    <button class="btn-tool btn-save" onclick="guardarCambios('tramites')" id="btnSaveTramites" disabled>
                        üíæ Guardar Cambios
                    </button>
                    <button class="btn-tool btn-reset" onclick="resetearDatos('tramites')" id="btnResetTramites" disabled>
                        üîÑ Resetear Datos
                    </button>
                </div>
                
                <div class="search-box">
                    <input type="text" id="searchTramites" placeholder="Buscar en tr√°mites..." onkeyup="filterTable('tramites')">
                    <span class="search-icon">üîç</span>
                </div>
                
                <div class="stats">
                    <div class="stat-card">
                        <h3 id="totalTramites">0</h3>
                        <p>Total Tr√°mites</p>
                    </div>
                </div>
                
                <div style="overflow-x: auto; position: relative;">
                    <div class="locked-overlay" id="lockedTramites">
                        <div class="icon">üîí</div>
                        <p>Modo solo lectura</p>
                        <p style="font-size: 0.9em; color: #999;">Click en "üîì Modo Edici√≥n" para editar</p>
                    </div>
                    <table id="tableTramites">
                        <thead>
                            <tr id="headTramites"></tr>
                        </thead>
                        <tbody id="bodyTramites"></tbody>
                    </table>
                </div>
            </div>
        </div>
        
        <div class="action-buttons">
            <button class="btn-primary" onclick="solicitarContrasenaNavegacion()" style="background:#3498db;">
                üè† Volver al Sistema
            </button>
            <button class="btn-primary" onclick="descargarJSON()" style="background:#27ae60;">
                üì• Descargar JSON
            </button>
            <button class="btn-primary" onclick="salir()" style="background:#e74c3c;">
                üö™ Salir
            </button>
        </div>
    </div>

    <script>
        // ========================================
        // PROTECCIONES DE SEGURIDAD
        // ========================================
        
        document.addEventListener('contextmenu', e => e.preventDefault());
        
        document.addEventListener('keydown', function(e) {
            if (e.keyCode === 123 || 
                (e.ctrlKey && e.shiftKey && e.keyCode === 73) ||
                (e.ctrlKey && e.shiftKey && e.keyCode === 74) ||
                (e.ctrlKey && e.keyCode === 85) ||
                (e.ctrlKey && e.shiftKey && e.keyCode === 67) ||
                (e.ctrlKey && e.keyCode === 83)) {
                e.preventDefault();
                return false;
            }
        });
        
        (function() {
            history.pushState(null, null, location.href);
            window.addEventListener('popstate', function() {
                history.pushState(null, null, location.href);
                alert('‚ö†Ô∏è No puedes regresar desde esta p√°gina. Usa el bot√≥n "Salir" para cerrar.');
            });
        })();
        
        // ========================================
        // DATOS
        // ========================================
        
        const ORIGINAL_DATA = {
            conceptos: [
              {
                "Clave": 198,
                "Nombre": "Cuadro medidor de 1/2\" a 1\"",
                "Descripci√≥n": "Por suministro y colocaci√≥n de cuadro de medidor (de 1/2\" a 1\" galvanizado)",
                "Identificador": "CM1/2",
                "Importe": 1590.0
              },
              {
                "Clave": 199,
                "Nombre": "Cuadro medidor 1-1/2\"",
                "Descripci√≥n": "Por el servicio de suministro y colocaci√≥n de cuadro de medidor ( de 1-1/2\" galvanizado).",
                "Identificador": "CM1",
                "Importe": 3240.0
              },
              {
                "Clave": 200,
                "Nombre": "Cuadro medidor 2\"",
                "Descripci√≥n": "Por el servicio de suministro y colocaci√≥n de cuadro de medidor ( de 2\" FoFo ).",
                "Identificador": "CM2",
                "Importe": 13320.0
              },
              {
                "Clave": 177,
                "Nombre": "Por cancelaci√≥n y reconexi√≥n de toma en caja de registro con taquete de madera",
                "Descripci√≥n": "Cancelacion y reconexion de toma en caja de registro con taquete de madera",
                "Identificador": "CRCR",
                "Importe": 514.0
              },
              {
                "Clave": 7,
                "Nombre": "Suministro y colocaci√≥n de caja de registro",
                "Descripci√≥n": "Por el servicio de suministro y colocaci√≥n de caja de registro para alojo de medidor en banqueta (incluye obra civil) (incluye caja)",
                "Identificador": "SCB",
                "Importe": 3620.0
              },
              {
                "Clave": 203,
                "Nombre": "Medidor de lectura remota (1/2\")",
                "Descripci√≥n": "Por el servicio de suministro e instalaci√≥n de medidor de lectura remota (1/2\")",
                "Identificador": "MLR1/2",
                "Importe": 2200.0
              },
              {
                "Clave": 204,
                "Nombre": "Medidor de lectura remota (1\")",
                "Descripci√≥n": "Por el servicio de suministro e instalaci√≥n de medidor de lectura remota (1\")",
                "Identificador": "MLR1",
                "Importe": 3100.0
              },
              {
                "Clave": 205,
                "Nombre": "Medidor de lectura remota (1 1/2\")",
                "Descripci√≥n": "Por el servicio de suministro e instalaci√≥n de medidor de lectura remota (1-1/2\")",
                "Identificador": "MLR11/",
                "Importe": 6600.0
              },
              {
                "Clave": 206,
                "Nombre": "Medidor de lectura remota (2\")",
                "Descripci√≥n": "Por suministro e instalaci√≥n de medidor de lectura remota (2\")",
                "Identificador": "MLR2",
                "Importe": 26400.0
              },
              {
                "Clave": 207,
                "Nombre": "Medidor de lectura remota (3\")",
                "Descripci√≥n": "Por el servicio de suministro e instalaci√≥n de medidor de lectura remota (3\")",
                "Identificador": "MLR3",
                "Importe": 32500.0
              },
              {
                "Clave": 208,
                "Nombre": "Medidor de lectura remota (4\")",
                "Descripci√≥n": "Por el servicio de suministro e instalaci√≥n de medidor de lectura remota (4\")",
                "Identificador": "MLR4",
                "Importe": 53000.0
              },
              {
                "Clave": 163,
                "Nombre": "Venta de Caja de polietileno de registro en banqueta",
                "Descripci√≥n": "Suministro e instalaci√≥n de caja de polietileno para alojo de medidor (de 1/2\") en banqueta",
                "Identificador": "CPM",
                "Importe": 835.0
              },
              {
                "Clave": 209,
                "Nombre": "Suspensi√≥n voluntaria temporal",
                "Descripci√≥n": "Por suspensi√≥n voluntaria temporal de inmueble deshabitado y reconexi√≥n de toma de agua",
                "Identificador": "SVT",
                "Importe": 865.0
              },
              {
                "Clave": 210,
                "Nombre": "Cancelaci√≥n definitiva de toma",
                "Descripci√≥n": "Por el servicio de cancelaci√≥n definitiva de toma desde la red central",
                "Identificador": "CDAT",
                "Importe": 3460.0
              },
              {
                "Clave": 66,
                "Nombre": "Venta agua tratada en garza",
                "Descripci√≥n": "Por venta de agua tratada en sitio de planta con pipa del cliente (sistema garza) en planta autorizada, importe por metro c√∫bico",
                "Identificador": "SAT",
                "Importe": 8.0
              },
              {
                "Clave": 212,
                "Nombre": "Reconexi√≥n de agua en cuadro y/o registro",
                "Descripci√≥n": "Por el servicio de reconexi√≥n de toma de agua en cuadro de medidor y/o registro por morosidad",
                "Identificador": "RAC/R",
                "Importe": 560.0
              },
              {
                "Clave": 67,
                "Nombre": "Descarga desechos domesticos",
                "Descripci√≥n": "Por descarga m√≥vil de agua residual de desechos dom√©sticos en planta de tratamiento autorizada por metro c√∫bico",
                "Identificador": "DDM",
                "Importe": 35.0
              },
              {
                "Clave": 230,
                "Nombre": "Reubicaci√≥n de cuadro y/o medidor",
                "Descripci√≥n": "Por el servicio de reubicaci√≥n de cuadro de medidor y/o medidor",
                "Identificador": "RDC/M",
                "Importe": 840.0
              },
              {
                "Clave": 215,
                "Nombre": "Tierra nuevo servicio de agua 1/2\" a 1\" (no incluye medidor)",
                "Descripci√≥n": "Por el servicio de instalaci√≥n de nuevo servicio de agua potable de (1/2\" a 1\") de 0.0 a 5.0 metros del punto de conexi√≥n (incluye obra civil en carpeta de rodamiento) (No incluye medidor)",
                "Identificador": "NSAT",
                "Importe": 7150.0
              },
              {
                "Clave": 106,
                "Nombre": "Metro adicional agua potable",
                "Descripci√≥n": "Metro adicional en nuevos servicios agua potable (1/2\") (incluye obra civil)",
                "Identificador": "MANSAP",
                "Importe": 1438.0
              },
              {
                "Clave": 216,
                "Nombre": "Rodamiento nuevo servicio de agua 1/2\" a 1\" (no incluye medidor)",
                "Descripci√≥n": "Por el servicio de instalaci√≥n de nuevo servicio de agua potable de (1/2\" a 1\") de 0.0 a 5.0 metros del punto de conexi√≥n (incluye obra civil en carpeta de rodamiento) (No incluye medidor)",
                "Identificador": "NSACR",
                "Importe": 10180.0
              },
              {
                "Clave": 217,
                "Nombre": "Rodamiento Conexion de alba√±al",
                "Descripci√≥n": "Por el servicio de instalaci√≥n de nuevo servicio de alcantarillado (tuber√≠a de 6\" de pvc) de 0.0 a 5.0 metros del punto de conexi√≥n costo de descarga (incluye obra civil en carpeta de rodamiento)",
                "Identificador": "CAR",
                "Importe": 12620.0
              },
              {
                "Clave": 218,
                "Nombre": "Tierra Conexion de alba√±al",
                "Descripci√≥n": "Por el servicio de instalaci√≥n de nuevo servicio de alcantarillado (tuber√≠a de 6\" de pvc) de 0.0 a 5.0 metros del punto de conexi√≥n costo de descarga (incluye obra civil en tierra)",
                "Identificador": "CAT",
                "Importe": 9550.0
              },
              {
                "Clave": 219,
                "Nombre": "Carpeta de rodamiento conexi√≥n de alba√±al y nuevo servicio de agua (No inlcuye medidor)",
                "Descripci√≥n": "Instalaci√≥n de nuevo servicio de agua potable (toma de 1/2\" a 1\" y alcantarillado (tuber√≠a de 6\" de pvc) de 1 a 10 metros del punto de conexi√≥n costo de toma y descarga (incluye obra civil en carpeta de rodamiento) (No inlcuye medidor)",
                "Identificador": "ITCAR",
                "Importe": 12970.0
              },
              {
                "Clave": 220,
                "Nombre": "Tierra conexion de alba√±al y nuevo servicio de agua (No incluye medidor)",
                "Descripci√≥n": "Por el servicio de instalaci√≥n de nuevo servicio de agua potable (toma de 1/2\" a 1\") y alcantarillado (tuber√≠a de 6\" pvc) de 0.0 a 5.0 metros del punto de conexi√≥n costo de toma y descarga (incluye obra civil en tierra) (No incluye medidor)",
                "Identificador": "ITCAT",
                "Importe": 9770.0
              },
              {
                "Clave": 12,
                "Nombre": "Construcci√≥n registro sanitario",
                "Descripci√≥n": "Por construcci√≥n de registro sanitario de 40 cm x 60 cm",
                "Identificador": "CDRS",
                "Importe": 6340.0
              },
              {
                "Clave": 180,
                "Nombre": "Limpieza de fosa septica comercio y/o industria",
                "Descripci√≥n": "Costo horario por servicio de limpieza de fosa s√©ptica previo dictamen del supervisor en comercio o industria (cuando el equipo de desazolve tenga acceso a la fosa y se tenga disponibilidad del equipo. Hasta 4 m3",
                "Identificador": "DFSCI",
                "Importe": 1980.0
              },
              {
                "Clave": 189,
                "Nombre": "Tramite inicial de factibilidad",
                "Descripci√≥n": "Por el servicio de tr√°mite inicial de factibilidad a desarrolladores",
                "Identificador": "TIF",
                "Importe": 2850.0
              },
              {
                "Clave": 190,
                "Nombre": "Tramite inicial por subdivisi√≥n",
                "Descripci√≥n": "Por el servico de tr√°mite inicial de factibilidad por subdivisi√≥n",
                "Identificador": "TIS",
                "Importe": 170.0
              },
              {
                "Clave": 221,
                "Nombre": "Venta agua tratada con macromedidor",
                "Descripci√≥n": "Por venta de agua tratada v√≠a red con macromedidor, importe por metro c√∫bico",
                "Identificador": "SATM",
                "Importe": 6.8
              },
              {
                "Clave": 222,
                "Nombre": "Tr√°mite inicial de prefactibilidad",
                "Descripci√≥n": "Por el servicio de tr√°mite inicial de prefactibilidad a desarrolladores",
                "Identificador": "TIPF",
                "Importe": 2850.0
              },
              {
                "Clave": 69,
                "Nombre": "Suministro de agua a pipas",
                "Descripci√≥n": "Por el servicio de suministro de agua potable a pipas particulares por m3",
                "Identificador": "SAPP",
                "Importe": 77.0
              },
              {
                "Clave": 232,
                "Nombre": "Suspensi√≥n de agua en registro",
                "Descripci√≥n": "Por suspensi√≥n de toma de agua en registro por morosidad",
                "Identificador": "SAR",
                "Importe": 330.0
              },
              {
                "Clave": 211,
                "Nombre": "Suspensi√≥n de agua en cuadro y/o registro",
                "Descripci√≥n": "Por el servicio de suspensi√≥n de toma de agua en cuadro de medidor y/o registro por morosidad",
                "Identificador": "SAC/R",
                "Importe": 340.0
              },
              {
                "Clave": 213,
                "Nombre": "Suspensi√≥n de agua en banqueta",
                "Descripci√≥n": "Por el servicio de suspensi√≥n de toma de agua en banqueta por morosidad",
                "Identificador": "SAB",
                "Importe": 1200.0
              },
              {
                "Clave": 181,
                "Nombre": "Pensionado",
                "Descripci√≥n": "Por los servicios de agua potable, alcantarillado sanitario, drenaje y saneamiento en todas sus modalidades",
                "Identificador": "PEN",
                "Importe": 0.0
              },
              {
                "Clave": 182,
                "Nombre": "Jubilado",
                "Descripci√≥n": "Por los servicios de agua potable, alcantarillado sanitario, drenaje y saneamiento en todas sus modalidades",
                "Identificador": "JUB",
                "Importe": 0.0
              },
              {
                "Clave": 183,
                "Nombre": "Escasos Recursos",
                "Descripci√≥n": "Por los servicios de agua potable, alcantarillado sanitario, drenaje y saneamiento en todas sus modalidades",
                "Identificador": "SOC",
                "Importe": 0.0
              },
              {
                "Clave": 185,
                "Nombre": "Tercera edad",
                "Descripci√≥n": "Por los servicios de agua potable, alcantarillado sanitario, drenaje y saneamiento en todas sus modalidades",
                "Identificador": "TER",
                "Importe": 0.0
              },
              {
                "Clave": 188,
                "Nombre": "Discapacidad",
                "Descripci√≥n": "Por los servicios de agua potable, alcantarillado sanitario, drenaje y saneamiento en todas sus modalidades",
                "Identificador": "DIS",
                "Importe": 0.0
              },
              {
                "Clave": 184,
                "Nombre": "Rural",
                "Descripci√≥n": "Por los servicios de agua potable, alcantarillado sanitario, drenaje y saneamiento en todas sus modalidades",
                "Identificador": "RUR",
                "Importe": 0.0
              },
              {
                "Clave": 197,
                "Nombre": "Reconexi√≥n de toma de agua",
                "Descripci√≥n": "Por el servicio de reconexi√≥n de toma en red central",
                "Identificador": "RTA",
                "Importe": 2440.0
              },
              {
                "Clave": 195,
                "Nombre": "Venta de bases de licitaci√≥n",
                "Descripci√≥n": "Por la venta de bases de licitaci√≥n p√∫blica por paquete.",
                "Identificador": "BLP",
                "Importe": 1090.0
              },
              {
                "Clave": 172,
                "Nombre": "Renta de espacios",
                "Descripci√≥n": "Por arrendamiento de espacios p√∫blicos",
                "Identificador": "AET",
                "Importe": 31410.0
              },
              {
                "Clave": 68,
                "Nombre": "Tierra metro adicional alba√±al",
                "Descripci√≥n": "Por el servicio de metro adicional de descarga en tierra",
                "Identificador": "TMAD",
                "Importe": 1340.0
              },
              {
                "Clave": 70,
                "Nombre": "Rodamiento metro adicional alba√±al",
                "Descripci√≥n": "Por el servicio de metro adicional de descarga en carpeta de rodamiento",
                "Identificador": "RMAD",
                "Importe": 1840.0
              },
              {
                "Clave": 108,
                "Nombre": "Tierra metro adicional agua potable",
                "Descripci√≥n": "Por el servicio de metro adicional de toma de agua potable en tierra",
                "Identificador": "TMAAP",
                "Importe": 980.0
              },
              {
                "Clave": 110,
                "Nombre": "Rodamiento metro adicional agua potable",
                "Descripci√≥n": "Por el servicio de metro adicional de toma de agua potable en carpeta de rodamiento",
                "Identificador": "RMAAP",
                "Importe": 1510.0
              },
              {
                "Clave": 112,
                "Nombre": "Reconexi√≥n de toma en cuadro y/o registro",
                "Descripci√≥n": "Por el servicio de reconexi√≥n de toma de agua en cuadro y/o registro",
                "Identificador": "RCR",
                "Importe": 560.0
              },
              {
                "Clave": 113,
                "Nombre": "Suspensi√≥n voluntaria temporal 2026",
                "Descripci√≥n": "Por el servicio de suspensi√≥n voluntaria temporal de toma de agua en cuadro de medidor (vigencia de 1 a√±o)",
                "Identificador": "SVTT",
                "Importe": 340.0
              },
              {
                "Clave": 114,
                "Nombre": "Reconexi√≥n voluntaria temporal",
                "Descripci√≥n": "Por el servicio de reconexi√≥n voluntaria temporal de toma de agua de inmueble deshabitado.",
                "Identificador": "RVT",
                "Importe": 560.0
              },
              {
                "Clave": 115,
                "Nombre": "Construcci√≥n de caja de valvula",
                "Descripci√≥n": "Por el servicio de construcci√≥n de caja de operaci√≥n de v√°lvula y medidor (incluye obra civil) (no incluye medidor)",
                "Identificador": "CCV",
                "Importe": 34450.0
              },
              {
                "Clave": 107,
                "Nombre": "Cheque Devuelto",
                "Descripci√≥n": "Indemizaci√≥n 20 % por cheque devuelto",
                "Identificador": "CHQ_RE",
                "Importe": 0.0
              },
              {
                "Clave": 134,
                "Nombre": "Redondeo",
                "Descripci√≥n": "Redondeo  Parcialidad",
                "Identificador": "REDC",
                "Importe": 0.0
              },
              {
                "Clave": 72,
                "Nombre": "Anticipo sobre presupuesto negociado",
                "Descripci√≥n": "Anticipo sobre presupuesto negociado",
                "Identificador": "ANTP",
                "Importe": 0.0
              },
              {
                "Clave": 226,
                "Nombre": "Hoja adicional a certificaci√≥n o constancia sobre documentos",
                "Descripci√≥n": "Hoja adicional a las certificaciones o constancias sobre documentos, actas, datos y anotaciones por legajo",
                "Identificador": "HACSD",
                "Importe": 1.0
              },
              {
                "Clave": 228,
                "Nombre": "Multas descargas por limites excedentes",
                "Descripci√≥n": "Derechos por excedentes de Limites Permisibles en las descargas de aguas residuales no dom√©sticas vertidas a la red de alcantarillado sanitario",
                "Identificador": "MUNOM",
                "Importe": 0.0
              },
              {
                "Clave": 121,
                "Nombre": "Multas otros",
                "Descripci√≥n": "Cargo por multas otros conceptos",
                "Identificador": "MUOTR",
                "Importe": 0.0
              },
              {
                "Clave": 229,
                "Nombre": "Otros ingresos",
                "Descripci√≥n": "Otros Ingresos",
                "Identificador": "OI",
                "Importe": 0.0
              },
              {
                "Clave": 11,
                "Nombre": "Conexi√≥n red agua",
                "Descripci√≥n": "Conexi√≥n a la red municipal de agua potable",
                "Identificador": "CRA",
                "Importe": 0.0
              },
              {
                "Clave": 171,
                "Nombre": "Derechos de conexi√≥n a red de agua",
                "Descripci√≥n": "Derechos de Conexi√≥n a la Red Municipal de Agua Potable",
                "Identificador": "DCA",
                "Importe": 0.0
              },
              {
                "Clave": 178,
                "Nombre": "Actualizacion Parcialidades",
                "Descripci√≥n": "Actualizacion Parcialidades",
                "Identificador": "CF",
                "Importe": 0.0
              },
              {
                "Clave": 234,
                "Nombre": "Parcialidad",
                "Descripci√≥n": "Parcialidad",
                "Identificador": "RCC",
                "Importe": 0.0
              },
              {
                "Clave": 186,
                "Nombre": "Derechos de conexi√≥n a red sanitaria",
                "Descripci√≥n": "Derechos de Conexi√≥n a la Red Municipal de Alcantarillado Sanitario y Saneamiento",
                "Identificador": "DCS",
                "Importe": 0.0
              },
              {
                "Clave": 187,
                "Nombre": "Contribuci√≥n por dotaci√≥n de agua",
                "Descripci√≥n": "Contribuci√≥n por dotaci√≥n de los servicios publicos del agua",
                "Identificador": "CDOT",
                "Importe": 0.0
              },
              {
                "Clave": 191,
                "Nombre": "Gastos de ejecuci√≥n",
                "Descripci√≥n": "Gastos de ejecuci√≥n",
                "Identificador": "GDE",
                "Importe": 0.0
              },
              {
                "Clave": 176,
                "Nombre": "DEVOLUCI√ìN",
                "Descripci√≥n": "DEVOLUCI√ìN",
                "Identificador": "DEV",
                "Importe": 0.0
              },
              {
                "Clave": 193,
                "Nombre": "Recargo por pago en parcialidades",
                "Descripci√≥n": "Recargo por pago en parcialidades",
                "Identificador": "RPP",
                "Importe": 0.0
              },
              {
                "Clave": 194,
                "Nombre": "Actualizaci√≥n",
                "Descripci√≥n": "Actualizaci√≥n",
                "Identificador": "ACT",
                "Importe": 0.0
              },
              {
                "Clave": 224,
                "Nombre": "Impresion estado de cuenta",
                "Descripci√≥n": "Copia de impresi√≥n de estados de cuenta",
                "Identificador": "CEC",
                "Importe": 4.0
              },
              {
                "Clave": 233,
                "Nombre": "Recargos",
                "Descripci√≥n": "Recargos",
                "Identificador": "REC",
                "Importe": 0.0
              },
              {
                "Clave": 235,
                "Nombre": "PRESUPUESTO DIRECCI√ìN COMERCIAL",
                "Descripci√≥n": "PRESUPUESTO DIRECCI√ìN COMERCIAL",
                "Identificador": "PDC",
                "Importe": 0.0
              },
              {
                "Clave": 71,
                "Nombre": "Anticipo pago en parcialidades",
                "Descripci√≥n": "Anticipo pago en parcialidades",
                "Identificador": "ANTPEP",
                "Importe": 0.0
              },
              {
                "Clave": 2,
                "Nombre": "Servicio del periodo (DESCARGA)",
                "Descripci√≥n": "Por los servicios de agua potable, alcantarillado sanitario, drenaje y saneamiento en todas sus modalidades",
                "Identificador": "DPP",
                "Importe": 0.0
              },
              {
                "Clave": 15,
                "Nombre": "Suministro de medidor",
                "Descripci√≥n": "Suministro e instalaci√≥n de medidor (1/2\")",
                "Identificador": "SM",
                "Importe": 803.0
              },
              {
                "Clave": 65,
                "Nombre": "Metro adicional descarga",
                "Descripci√≥n": "Metro adicional de descarga (6\") (incluye obra civil)",
                "Identificador": "MAD",
                "Importe": 2662.0
              },
              {
                "Clave": 123,
                "Nombre": "Por cancelaci√≥n y reconexi√≥n de toma de agua con taquete de madera",
                "Descripci√≥n": "Cancelaci√≥n y reconexi√≥n de toma de agua con taquete de madera",
                "Identificador": "CRC",
                "Importe": 302.0
              },
              {
                "Clave": 9,
                "Nombre": "Suministro e instalaci√≥n de medidor",
                "Descripci√≥n": "Suministro e instalaci√≥n de medidor",
                "Identificador": "SIM",
                "Importe": 803.0
              },
              {
                "Clave": 10,
                "Nombre": "Cuadro de medidor",
                "Descripci√≥n": "Suministro cuadro de medidor (columpio)",
                "Identificador": "SCM",
                "Importe": 1396.0
              },
              {
                "Clave": 13,
                "Nombre": "Nuevo servicio agua",
                "Descripci√≥n": "Nuevo servicio agua potable (1/2\") costo de toma (incluye obra civil)",
                "Identificador": "NSAP",
                "Importe": 997.0
              },
              {
                "Clave": 16,
                "Nombre": "Nuevo servicio descarga",
                "Descripci√≥n": "Nuevo servicio de descarga (6\", incluye obra civil)",
                "Identificador": "NSD",
                "Importe": 3221.0
              },
              {
                "Clave": 126,
                "Nombre": "Por cancelaci√≥n y reconexi√≥n de toma en banqueta con taquete de madera (incluye obra civil)",
                "Descripci√≥n": "Cancelaci√≥n y reconexi√≥n de toma en banqueta con taquete de madera (incluye obra civil)",
                "Identificador": "CRR",
                "Importe": 2816.0
              },
              {
                "Clave": 214,
                "Nombre": "Reconexi√≥n de agua en banqueta",
                "Descripci√≥n": "Por el servicio de reconexi√≥n de toma de agua en banqueta por morosidad",
                "Identificador": "RAB",
                "Importe": 1200.0
              },
              {
                "Clave": 223,
                "Nombre": "Copia fotostatica simple B/N",
                "Descripci√≥n": "El costo por hoja de copia fotost√°tica simple o impresi√≥n, en blanco y negro, en papel bond",
                "Identificador": "CFBN",
                "Importe": 1.0
              },
              {
                "Clave": 225,
                "Nombre": "Certificaci√≥n o constancia sobre documentos",
                "Descripci√≥n": "La expedici√≥n de certificaciones o constancias sobre documentos actas, datos y anotaciones por legajo",
                "Identificador": "CSD",
                "Importe": 32.0
              },
              {
                "Clave": 227,
                "Nombre": "Copia simple planos",
                "Descripci√≥n": "El costo por expedici√≥n de hojas simples de planos",
                "Identificador": "CSP",
                "Importe": 225.0
              },
              {
                "Clave": 149,
                "Nombre": "Reubicaci√≥n de medidor a caja de registro",
                "Descripci√≥n": "Por el servicio de reubicaci√≥n de medidor del interior de predio o casa a banqueta en caja de registro (teniendo la caja de registro)",
                "Identificador": "RDM",
                "Importe": 440.0
              },
              {
                "Clave": 111,
                "Nombre": "Carta de no adeudo simple B/N",
                "Descripci√≥n": "Copia de hoja fotost√°tica simple o impresi√≥n, en blanco y negro, en papel bond",
                "Identificador": "CNA",
                "Importe": 0.0
              },
              {
                "Clave": 117,
                "Nombre": "Obligacion Pendiente",
                "Descripci√≥n": "Obligacion Pendiente",
                "Identificador": "TPE",
                "Importe": 0.0
              },
              {
                "Clave": 125,
                "Nombre": "V√°lvula",
                "Descripci√≥n": "V√°lvula expulsora de aire",
                "Identificador": "VALV_E",
                "Importe": 0.0
              },
              {
                "Clave": 1,
                "Nombre": "Servicio del periodo",
                "Descripci√≥n": "Por los servicios de agua potable, alcantarillado sanitario, drenaje y saneamiento en todas sus modalidades",
                "Identificador": "SDM",
                "Importe": 0.0
              },
              {
                "Clave": 196,
                "Nombre": "Dotaci√≥n sin costo",
                "Descripci√≥n": "Por los servicios de agua potable, alcantarillado sanitario, drenaje y saneamiento en todas sus modalidades",
                "Identificador": "DOT",
                "Importe": 0.0
              },
              {
                "Clave": 5,
                "Nombre": "Medidor",
                "Descripci√≥n": "Medidor",
                "Identificador": "MiM",
                "Importe": 710.35
              },
              {
                "Clave": 192,
                "Nombre": "Recargo por Morosidad",
                "Descripci√≥n": "Recargo por Morosidad de Parcialidades",
                "Identificador": "Rec",
                "Importe": 0.0
              },
              {
                "Clave": 14,
                "Nombre": "Saldo a favor",
                "Descripci√≥n": "Saldo a favor",
                "Identificador": "SF",
                "Importe": 0.0
              },
              {
                "Clave": 132,
                "Nombre": "Anticipo",
                "Descripci√≥n": "Por los servicios de agua potable, alcantarillado sanitario, drenaje y saneamiento en todas sus modalidades",
                "Identificador": "ANT",
                "Importe": 0.0
              },
              {
                "Clave": 133,
                "Nombre": "Amortizaci√≥n de anticipo",
                "Descripci√≥n": "Por los servicios de agua potable, alcantarillado sanitario, drenaje y saneamiento en todas sus modalidades",
                "Identificador": "AMO",
                "Importe": 0.0
              },
              {
                "Clave": 8,
                "Nombre": "IVA",
                "Descripci√≥n": "IVA",
                "Identificador": "IVA",
                "Importe": 0.0
              },
              {
                "Clave": 166,
                "Nombre": "Abono",
                "Descripci√≥n": "Por los servicios de agua potable, alcantarillado sanitario, drenaje y saneamiento en todas sus modalidades",
                "Identificador": "ABO",
                "Importe": 0.0
              }
            ],
            presupuestos: [
  {
    "Clave": 1,
    "Nombre": "Contratacion nuevos servicios",
    "Descripci√≥n": "Contratacion nuevos servicios",
    "Negociable": "Si"
  },
  {
    "Clave": 2,
    "Nombre": "Venta de agua tratada",
    "Descripci√≥n": "Venta de agua tratada",
    "Negociable": "No"
  },
  {
    "Clave": 3,
    "Nombre": "Descarga de desechos PTAR",
    "Descripci√≥n": "Descraga de desechos PTAR",
    "Negociable": "No"
  },
  {
    "Clave": 4,
    "Nombre": "Venta de agua a pipas",
    "Descripci√≥n": "Venta de agua a pipas",
    "Negociable": "No"
  },
  {
    "Clave": 5,
    "Nombre": "Factibilidad",
    "Descripci√≥n": "Factibilidad",
    "Negociable": "No"
  },
  {
    "Clave": 101,
    "Nombre": "Reconexi√≥n con costo",
    "Descripci√≥n": "Reconexi√≥n con costo",
    "Negociable": "Si"
  },
  {
    "Clave": 102,
    "Nombre": "Limpieza fosa s√©ptica en casa habitaci√≥n",
    "Descripci√≥n": "Limpieza fosa s√©ptica",
    "Negociable": "No"
  },
  {
    "Clave": 103,
    "Nombre": "Limpieza fosa s√©ptica en comercio o industria",
    "Descripci√≥n": "Limpieza fosa s√©ptica en comercio o industria",
    "Negociable": "No"
  },
  {
    "Clave": 106,
    "Nombre": "Reubicaci√≥n de medidor 1/2\"",
    "Descripci√≥n": "Reubicaci√≥n de medidor 1/2\"",
    "Negociable": "Si"
  },
  {
    "Clave": 109,
    "Nombre": "Caja de banqueta",
    "Descripci√≥n": "Caja de banqueta",
    "Negociable": "Si"
  },
  {
    "Clave": 128,
    "Nombre": "Reconexi√≥n de toma en caja",
    "Descripci√≥n": "Reconexion de toma en cajaReconexion de toma en cajaReconexi√≥n de toma en caja",
    "Negociable": "Si"
  },
  {
    "Clave": 130,
    "Nombre": "Tierra Conexi√≥n de alba√±al, toma, cuadro y medidor",
    "Descripci√≥n": "Tierra Conexi√≥n de alba√±al, toma, cuadro y medidor Conexi√≥n de alba√±al, toma, columpio y medidor ",
    "Negociable": "Si"
  },
  {
    "Clave": 131,
    "Nombre": "Venta de medidor y/o cuadro",
    "Descripci√≥n": "Venta de medidor y/o cuadro",
    "Negociable": "Si"
  },
  {
    "Clave": 132,
    "Nombre": "Tierra Conexi√≥n de alba√±al",
    "Descripci√≥n": "Tierra Conexi√≥n de alba√±al",
    "Negociable": "Si"
  },
  {
    "Clave": 133,
    "Nombre": "Contrataci√≥n de descarga sanitaria",
    "Descripci√≥n": "Contrataci√≥n de descarga sanitaria",
    "Negociable": "No"
  },
  {
    "Clave": 134,
    "Nombre": "Constancia de no adeudo",
    "Descripci√≥n": "Constancia de no adeudo",
    "Negociable": "No"
  },
  {
    "Clave": 135,
    "Nombre": "Tierra Toma de agua, cuadro y/o medidor",
    "Descripci√≥n": "Tierra Toma de agua, cuadro y/o medidor",
    "Negociable": "Si"
  },
  {
    "Clave": 136,
    "Nombre": "Reconexi√≥n por cuadro",
    "Descripci√≥n": "Reconexi√≥n por cuadro",
    "Negociable": "Si"
  },
  {
    "Clave": 137,
    "Nombre": "Reconexi√≥n por red",
    "Descripci√≥n": "Reconexi√≥n por red",
    "Negociable": "Si"
  },
  {
    "Clave": 138,
    "Nombre": "Reconexi√≥n de drenaje",
    "Descripci√≥n": "Reconexi√≥n de drenaje",
    "Negociable": "Si"
  },
  {
    "Clave": 139,
    "Nombre": "Caja de banqueta y medidor",
    "Descripci√≥n": "Caja de banqueta y medidor",
    "Negociable": "No"
  },
  {
    "Clave": 140,
    "Nombre": "Venta de medidor y/o cuadro nueva contrataci√≥n",
    "Descripci√≥n": "Venta de medidor y/o cuadro nueva contrataci√≥n",
    "Negociable": "No"
  },
  {
    "Clave": 141,
    "Nombre": "Presupuesto libre",
    "Descripci√≥n": "Presupuesto libre",
    "Negociable": "No"
  },
  {
    "Clave": 142,
    "Nombre": "Columpio",
    "Descripci√≥n": "Columpio",
    "Negociable": "Si"
  },
  {
    "Clave": 143,
    "Nombre": "Solicitud de contratacion por alcantarillado",
    "Descripci√≥n": "Solicitud de contratacion por alcantarillado",
    "Negociable": "No"
  },
  {
    "Clave": 144,
    "Nombre": "Contrataci√≥n de regularizaci√≥n con medidor",
    "Descripci√≥n": "Contrataci√≥n de regularizaci√≥n con medidor",
    "Negociable": "Si"
  },
  {
    "Clave": 145,
    "Nombre": "Contrataciones en parcialidades Rodamiento",
    "Descripci√≥n": "Contrataciones en parcialidades Rodamiento",
    "Negociable": "Si"
  },
  {
    "Clave": 146,
    "Nombre": "Devoluci√≥n ",
    "Descripci√≥n": "Devoluci√≥n de pago de presupuesto",
    "Negociable": "No"
  },
  {
    "Clave": 147,
    "Nombre": "Reconexi√≥n de toma de agua",
    "Descripci√≥n": "Reconexi√≥n de toma de agua",
    "Negociable": "No"
  },
  {
    "Clave": 148,
    "Nombre": "Cancelaci√≥n de toma por fusi√≥n de predios",
    "Descripci√≥n": "Cancelaci√≥n de toma por fusi√≥n de predios",
    "Negociable": "No"
  },
  {
    "Clave": 149,
    "Nombre": "Suspensi√≥n voluntaria temporal",
    "Descripci√≥n": "Suspensi√≥n voluntaria temporal",
    "Negociable": "No"
  },
  {
    "Clave": 150,
    "Nombre": "Reconexi√≥n de toma de agua de 1-1/2\" GU",
    "Descripci√≥n": "Reconexi√≥n de toma de agua de 1-1/2\" GU",
    "Negociable": "Si"
  },
  {
    "Clave": 151,
    "Nombre": "Reconexi√≥n de toma de agua de 2\" GU",
    "Descripci√≥n": "Reconexi√≥n de toma de agua de 2\" GU",
    "Negociable": "Si"
  },
  {
    "Clave": 152,
    "Nombre": "Reconexi√≥n de toma de agua de 3\" GU",
    "Descripci√≥n": "Reconexi√≥n de toma de agua de 3\" GU",
    "Negociable": "Si"
  },
  {
    "Clave": 153,
    "Nombre": "Reconexi√≥n de toma de agua de 4\" GU",
    "Descripci√≥n": "Reconexi√≥n de toma de agua de 4\" GU",
    "Negociable": "Si"
  },
  {
    "Clave": 154,
    "Nombre": "Copia",
    "Descripci√≥n": "Copia",
    "Negociable": "No"
  },
  {
    "Clave": 155,
    "Nombre": "Impresi√≥n estado de cuenta",
    "Descripci√≥n": "Impresi√≥n estado de cuenta",
    "Negociable": "No"
  },
  {
    "Clave": 156,
    "Nombre": "Rodamiento Cone alba√±al, toma, cuadro y/o medidor",
    "Descripci√≥n": "Rodamiento Cone alba√±al, toma, cuadro y/o medidor",
    "Negociable": "No"
  },
  {
    "Clave": 157,
    "Nombre": "Rodamiento Toma de agua, cuadro y/o medidor",
    "Descripci√≥n": "Rodamiento Toma de agua, cuadro y/o medidor",
    "Negociable": "Si"
  },
  {
    "Clave": 158,
    "Nombre": "Rodamiento Conexion de alba√±al",
    "Descripci√≥n": "Rodamiento Conexion de alba√±al",
    "Negociable": "Si"
  },
  {
    "Clave": 159,
    "Nombre": "Const, y colocaci√≥n de caja de reg en banqueta",
    "Descripci√≥n": "Const, y colocaci√≥n de caja de registro en banqueta",
    "Negociable": "Si"
  },
  {
    "Clave": 160,
    "Nombre": "Venta de caja de polietileno registro en banqueta",
    "Descripci√≥n": "Venta de caja de polietileno registro en banqueta",
    "Negociable": "Si"
  },
  {
    "Clave": 161,
    "Nombre": "Contrataciones en parcialidades Tierra",
    "Descripci√≥n": "Contrataciones en parcialidades Tierra",
    "Negociable": "Si"
  },
  {
    "Clave": 162,
    "Nombre": "Reubicaci√≥n de medidor de 1-1/2\" GU",
    "Descripci√≥n": "Reubicaci√≥n de medidor de 1-1/2\" GU",
    "Negociable": "Si"
  },
  {
    "Clave": 163,
    "Nombre": "Reubicaci√≥n de medidor 2\" GU",
    "Descripci√≥n": "Reubicaci√≥n de medidor 2\" GU",
    "Negociable": "Si"
  },
  {
    "Clave": 164,
    "Nombre": "Reconexi√≥n de toma de agua GU",
    "Descripci√≥n": "Reconexi√≥n de toma de agua GU",
    "Negociable": "Si"
  },
  {
    "Clave": 165,
    "Nombre": "Venta de medidor de 1-1/2\" GU",
    "Descripci√≥n": "Venta de medidor de 1-1/2\" GU",
    "Negociable": "Si"
  },
  {
    "Clave": 166,
    "Nombre": "Venta de medidor de 2\" GU",
    "Descripci√≥n": "Venta de medidor de 2\" GU",
    "Negociable": "Si"
  },
  {
    "Clave": 167,
    "Nombre": "Venta de medidor de 3\" GU",
    "Descripci√≥n": "Venta de medidor de 3\" GU",
    "Negociable": "Si"
  },
  {
    "Clave": 168,
    "Nombre": "Venta de medidor de 4\" GU",
    "Descripci√≥n": "Venta de medidor de 4\" GU",
    "Negociable": "Si"
  },
  {
    "Clave": 169,
    "Nombre": "Reubicaci√≥n de medidor 3\" GU",
    "Descripci√≥n": "Reubicaci√≥n de medidor 3\" GU",
    "Negociable": "Si"
  },
  {
    "Clave": 170,
    "Nombre": "Reubicaci√≥n de medidor 4\" GU",
    "Descripci√≥n": "Reubicaci√≥n de medidor 4\" GU",
    "Negociable": "Si"
  },
  {
    "Clave": 171,
    "Nombre": "Reubicaci√≥n de cuadro 1/2 a 1\"",
    "Descripci√≥n": "Reubicaci√≥n de cuadro 1/2 a 1\"",
    "Negociable": "Si"
  },
  {
    "Clave": 172,
    "Nombre": "Reubicaci√≥n de medidor 1\" GU",
    "Descripci√≥n": "Reubicaci√≥n de medidor 1\" GU",
    "Negociable": "Si"
  },
  {
    "Clave": 173,
    "Nombre": "Venta de medidor 1\" y/o Cuadro 1/2 a 1\"",
    "Descripci√≥n": "Venta de medidor 1\" y/o Cuadro 1/2 a 1\"",
    "Negociable": "Si"
  },
  {
    "Clave": 174,
    "Nombre": "Reconexi√≥n de toma de agua 1\" GU",
    "Descripci√≥n": "Reconexi√≥n de toma de agua 1\" GU",
    "Negociable": "Si"
  },
  {
    "Clave": 175,
    "Nombre": "Rodamiento. Alba√±al, toma, cuadro y medidor G.U.",
    "Descripci√≥n": "Rodamiento. Alba√±al, toma, cuadro y medidor G.U.",
    "Negociable": "No"
  },
  {
    "Clave": 176,
    "Nombre": "Venta de bases de licitaci√≥n",
    "Descripci√≥n": "Venta de bases de licitaci√≥n",
    "Negociable": "No"
  },
  {
    "Clave": 177,
    "Nombre": "Rodamiento. Toma, cuadro y medidor G.U.",
    "Descripci√≥n": "Rodamiento. Toma, cuadro y medidor G.U.",
    "Negociable": "No"
  },
  {
    "Clave": 178,
    "Nombre": "Rodamiento. Alba√±al G.U.",
    "Descripci√≥n": "Rodamiento. Alba√±al G.U.",
    "Negociable": "No"
  },
  {
    "Clave": 179,
    "Nombre": "Tierra. Alba√±al, toma, cuadro y medidor G.U.",
    "Descripci√≥n": "Tierra. Alba√±al, toma, cuadro y medidor G.U.",
    "Negociable": "No"
  },
  {
    "Clave": 180,
    "Nombre": "Tierra. Alba√±al G.U",
    "Descripci√≥n": "Tierra. Alba√±al G.U",
    "Negociable": "No"
  },
  {
    "Clave": 181,
    "Nombre": "Tierra. Toma, cuadro y medidor G.U.",
    "Descripci√≥n": "Tierra. Toma, cuadro y medidor G.U.",
    "Negociable": "No"
  },
  {
    "Clave": 182,
    "Nombre": "Rodamiento alba√±al, toma, cuadro y medidor G.U.1\"",
    "Descripci√≥n": "Rodamiento alba√±al, toma, cuadro y medidor G.U.1\"",
    "Negociable": "No"
  },
  {
    "Clave": 183,
    "Nombre": "Rodamiento alba√±al, toma, cuadro y med G.U.1 1y2\"",
    "Descripci√≥n": "Rodamiento alba√±al, toma, cuadro y med G.U.1 1y2\"",
    "Negociable": "No"
  },
  {
    "Clave": 184,
    "Nombre": "Rodamiento alba√±al, toma, cuadro y medidor G.U. 2\"",
    "Descripci√≥n": "Rodamiento alba√±al, toma, cuadro y medidor G.U. 2\"",
    "Negociable": "No"
  },
  {
    "Clave": 185,
    "Nombre": "Rodamiento alba√±al, toma, cuadro y medidor G.U. 3\"",
    "Descripci√≥n": "Rodamiento alba√±al, toma, cuadro y medidor G.U. 3\"",
    "Negociable": "No"
  },
  {
    "Clave": 186,
    "Nombre": "Rodamiento alba√±al, toma, cuadro y medidor G.U. 4\"",
    "Descripci√≥n": "Rodamiento alba√±al, toma, cuadro y medidor G.U. 4\"",
    "Negociable": "No"
  },
  {
    "Clave": 187,
    "Nombre": "Rodamiento Toma, cuadro y medidor G.U. 1\"",
    "Descripci√≥n": "Rodamiento Toma, cuadro y medidor G.U. 1\"",
    "Negociable": "No"
  },
  {
    "Clave": 188,
    "Nombre": "Rodamiento Toma, cuadro y medidor G.U. 1-1/2\"",
    "Descripci√≥n": "Rodamiento Toma, cuadro y medidor G.U. 1-1/2\"",
    "Negociable": "No"
  },
  {
    "Clave": 189,
    "Nombre": "Rodamiento Toma, cuadro y medidor G.U. 2\"",
    "Descripci√≥n": "Rodamiento Toma, cuadro y medidor G.U. 2\"",
    "Negociable": "No"
  },
  {
    "Clave": 190,
    "Nombre": "Rodamiento Toma, cuadro y medidor G.U. 3\"",
    "Descripci√≥n": "Rodamiento Toma, cuadro y medidor G.U. 3\"",
    "Negociable": "No"
  },
  {
    "Clave": 191,
    "Nombre": "Rodamiento Toma, cuadro y medidor G.U. 4\"",
    "Descripci√≥n": "Rodamiento Toma, cuadro y medidor G.U. 4\"",
    "Negociable": "No"
  },
  {
    "Clave": 192,
    "Nombre": "Rodamiento conexi√≥n alba√±al G.U.",
    "Descripci√≥n": "Rodamiento conexi√≥n alba√±al G.U.",
    "Negociable": "No"
  },
  {
    "Clave": 193,
    "Nombre": "Tierra. Alba√±al, toma, cuadro y medidor G.U. 1\"",
    "Descripci√≥n": "Tierra. Alba√±al, toma, cuadro y medidor G.U. 1\"",
    "Negociable": "No"
  },
  {
    "Clave": 194,
    "Nombre": "Tierra. Alba√±al, toma, cuadro y med G.U. 1-1/2\"",
    "Descripci√≥n": "Tierra. Alba√±al, toma, cuadro y med G.U. 1-1/2\"",
    "Negociable": "No"
  },
  {
    "Clave": 195,
    "Nombre": "Tierra. Alba√±al, toma, cuadro y medidor G.U. 2\"",
    "Descripci√≥n": "Tierra. Alba√±al, toma, cuadro y medidor G.U. 2\"",
    "Negociable": "No"
  },
  {
    "Clave": 196,
    "Nombre": "Tierra. Alba√±al, toma, cuadro y medidor G.U. 3\"",
    "Descripci√≥n": "Tierra. Alba√±al, toma, cuadro y medidor G.U. 3\"",
    "Negociable": "No"
  },
  {
    "Clave": 197,
    "Nombre": "Tierra. Alba√±al, toma, cuadro y medidor G.U. 4\"",
    "Descripci√≥n": "Tierra. Alba√±al, toma, cuadro y medidor G.U. 4\"",
    "Negociable": "No"
  },
  {
    "Clave": 198,
    "Nombre": "Tierra. Alba√±al G.U.",
    "Descripci√≥n": "Tierra. Alba√±al G.U.",
    "Negociable": "No"
  },
  {
    "Clave": 199,
    "Nombre": "Tierra. Toma, cuadro y medidor G.U. 1\"",
    "Descripci√≥n": "Tierra. Toma, cuadro y medidor G.U. 1\"",
    "Negociable": "No"
  },
  {
    "Clave": 200,
    "Nombre": "Tierra. Toma, cuadro y medidor G.U. 1-1/2\"",
    "Descripci√≥n": "Tierra. Toma, cuadro y medidor G.U. 1-1/2\"",
    "Negociable": "No"
  },
  {
    "Clave": 201,
    "Nombre": "Tierra. Toma, cuadro y medidor G.U. 2\"",
    "Descripci√≥n": "Tierra. Toma, cuadro y medidor G.U. 2\"",
    "Negociable": "No"
  },
  {
    "Clave": 202,
    "Nombre": "Tierra. Toma, cuadro y medidor G.U.3\"",
    "Descripci√≥n": "Tierra. Toma, cuadro y medidor G.U.3\"",
    "Negociable": "No"
  },
  {
    "Clave": 203,
    "Nombre": "Tierra. Toma, cuadro y medidor G.U. 4\"",
    "Descripci√≥n": "Tierra. Toma, cuadro y medidor G.U. 4\"",
    "Negociable": "No"
  },
  {
    "Clave": 204,
    "Nombre": "Reconexi√≥n de toma en cuadro y/o registro",
    "Descripci√≥n": "Reconexi√≥n de toma en cuadro y/o registro",
    "Negociable": "No"
  },
  {
    "Clave": 205,
    "Nombre": "Reconexi√≥n voluntaria temporal",
    "Descripci√≥n": "Reconexi√≥n voluntaria temporal",
    "Negociable": "No"
  },
  {
    "Clave": 206,
    "Nombre": "Reubicaci√≥n de medidor a caja de registro",
    "Descripci√≥n": "Reubicaci√≥n de medidor a caja de registro",
    "Negociable": "No"
  }
],
            tramites: [
  {
    "Clave": 1,
    "Nombre": "Alta de predio",
    "Descripci√≥n": "Tr√°mite para alta de nuevos predios",
    "Clase se tr√°mite": "Alta"
  },
  {
    "Clave": 2,
    "Nombre": "Alta de derivaci√≥n",
    "Descripci√≥n": "Tr√°mite para alta de derivaci√≥n en macrolotes",
    "Clase se tr√°mite": "Alta"
  },
  {
    "Clave": 12,
    "Nombre": "Carta Solicitud Cancelaci√≥n Definitiva de Toma",
    "Descripci√≥n": "Tr√°mite para solicitar la cancelaci√≥n definitiva de toma por fusi√≥n, abandono o demolici√≥n de predio. ",
    "Clase se tr√°mite": "Contrataci√≥n"
  },
  {
    "Clave": 26,
    "Nombre": "Tierra conexion de alba√±al y nuevo servicio de agua (No incluye medidor)",
    "Descripci√≥n": "Tr√°mite para contrataci√≥n de servicio de alba√±al(descarga), toma de agua, cuadro y medidor.",
    "Clase se tr√°mite": "Contrataci√≥n"
  },
  {
    "Clave": 28,
    "Nombre": "Tierra conexion de alba√±al",
    "Descripci√≥n": "Tr√°mite para contrataci√≥n, solo de alba√±al en Tierra.",
    "Clase se tr√°mite": "Contrataci√≥n"
  },
  {
    "Clave": 29,
    "Nombre": "Tierra nuevo servicio de agua 1/2\" a 1\" (no incluye medidor)",
    "Descripci√≥n": "Tr√°mite para contrataci√≥n de servicio de toma de agua, cuadro y/o medidor",
    "Clase se tr√°mite": "Contrataci√≥n"
  },
  {
    "Clave": 31,
    "Nombre": "Columpio y medidor ",
    "Descripci√≥n": "Tr√°mite para clientes que ya cuentan con el servicio de agua y drenaje y solo requieren de columpio y medidor ",
    "Clase se tr√°mite": "Contrataci√≥n"
  },
  {
    "Clave": 45,
    "Nombre": "Venta de medidor y/o cuadro nueva contrataci√≥n",
    "Descripci√≥n": "Tr√°mite para instalacion de medidor a usuarios que ya cuentan con los servicios de agua y alcantarillado y solo requieren el cuadro y/o instalacion del medidor",
    "Clase se tr√°mite": "Contrataci√≥n"
  },
  {
    "Clave": 70,
    "Nombre": "Carpeta de rodamiento conexi√≥n de alba√±al y nuevo servicio de agua",
    "Descripci√≥n": "Tr√°mite para contratacion de servicio de alba√±al(descarga), toma de agua, cuadro y/o medidor.",
    "Clase se tr√°mite": "Contrataci√≥n"
  },
  {
    "Clave": 71,
    "Nombre": "Rodamiento nuevo servicio de agua 1/2\" a 1\" ",
    "Descripci√≥n": "Tr√°mite para contrataci√≥n de servicio de toma de agua, cuadro y/o medidor",
    "Clase se tr√°mite": "Contrataci√≥n"
  },
  {
    "Clave": 74,
    "Nombre": "Rodamiento Conexi√≥n de alba√±al",
    "Descripci√≥n": "Tr√°mite para contrataci√≥n, solo de alba√±al en Rodamiento.",
    "Clase se tr√°mite": "Contrataci√≥n"
  },
  {
    "Clave": 37,
    "Nombre": "Contrataciones en parcialidades Rodamiento",
    "Descripci√≥n": "Contratacion en parcialidades para usuarios que autorice la Direccion Comercial",
    "Clase se tr√°mite": "Contrataci√≥n en Parcialidades"
  },
  {
    "Clave": 77,
    "Nombre": "Contrataciones en parcialidades Tierra",
    "Descripci√≥n": "Contrataci√≥n en parcialidades para usuarios que autorice la Direccion Comercial",
    "Clase se tr√°mite": "Contrataci√≥n en Parcialidades"
  },
  {
    "Clave": 14,
    "Nombre": "Invitaci√≥n al pago",
    "Descripci√≥n": "Tramite para generaci√≥n de carta invitaci√≥n a usarios dom√©stico, no genera seguimiento",
    "Clase se tr√°mite": "CONTROL DE OBLIGACIONES"
  },
  {
    "Clave": 15,
    "Nombre": "Suspensi√≥n del servicio",
    "Descripci√≥n": "Tr√°mite para predios morosos que se requieren suspender inmediatamente",
    "Clase se tr√°mite": "CONTROL DE OBLIGACIONES"
  },
  {
    "Clave": 17,
    "Nombre": "Invitaci√≥n al pago NO domesticos",
    "Descripci√≥n": "Tramite para generaci√≥n de carta invitaci√≥n a usarios NO dom√©stico, no genera seguimiento. ",
    "Clase se tr√°mite": "CONTROL DE OBLIGACIONES"
  },
  {
    "Clave": 22,
    "Nombre": "Suspensi√≥n del servicio NO domestico",
    "Descripci√≥n": "Tramite de suspensi√≥n del servicio inmediata para usuarios NO domesticos",
    "Clase se tr√°mite": "CONTROL DE OBLIGACIONES"
  },
  {
    "Clave": 23,
    "Nombre": "Suspensi√≥n de drenaje ",
    "Descripci√≥n": "Suspensi√≥n de drenaje para usuarios que ya estan suspendidor por red",
    "Clase se tr√°mite": "CONTROL DE OBLIGACIONES"
  },
  {
    "Clave": 39,
    "Nombre": "Aviso suspensi√≥n a morosos dom√©stico",
    "Descripci√≥n": "Tramite para aviso de suspension del servicio a usuarios dom√©sticos",
    "Clase se tr√°mite": "CONTROL DE OBLIGACIONES"
  },
  {
    "Clave": 40,
    "Nombre": "Verificaci√≥n de Suspendido Moroso",
    "Descripci√≥n": "Tr√°mite para dar seguimiento a que los predios que se les realizo corte de servicio y no han pagado continuen cerrados",
    "Clase se tr√°mite": "CONTROL DE OBLIGACIONES"
  },
  {
    "Clave": 54,
    "Nombre": "Reconexi√≥n de toma en cuadro y/o registro",
    "Descripci√≥n": "Reconexi√≥n de toma en cuadro y/o registro para cualquier situaci√≥n comercial que se encuentre suspendido",
    "Clase se tr√°mite": "CONTROL DE OBLIGACIONES"
  },
  {
    "Clave": 57,
    "Nombre": "Aviso suspensi√≥n a morosos no dom√©stico",
    "Descripci√≥n": "Tramite para aviso de suspension del servicio a usuarios dom√©sticos",
    "Clase se tr√°mite": "CONTROL DE OBLIGACIONES"
  },
  {
    "Clave": 58,
    "Nombre": "Orden de suspensi√≥n del servicio",
    "Descripci√≥n": "Tr√°mite para usuarios con morosidad para generar la orden de suspensi√≥n del servicio.",
    "Clase se tr√°mite": "CONTROL DE OBLIGACIONES"
  },
  {
    "Clave": 9,
    "Nombre": "Descarga de desechos en planta de tratamiento",
    "Descripci√≥n": "Por descarga m√≥vil de agua residual de desechos dom√©sticos en planta de tratamiento autorizada por metro c√∫bico",
    "Clase se tr√°mite": "Especial"
  },
  {
    "Clave": 18,
    "Nombre": "Reconexi√≥n en toma de agua",
    "Descripci√≥n": "Reconexi√≥n de toma para cualquier situaci√≥n comercial de suspension por morosidad proveniente de migraci√≥n y que desea formalizar su contrato.",
    "Clase se tr√°mite": "Especial"
  },
  {
    "Clave": 19,
    "Nombre": "Reconexi√≥n de servicio sin costo",
    "Descripci√≥n": "Reconexi√≥n por columpio para usuarios provenientes de migraci√≥n.",
    "Clase se tr√°mite": "Especial"
  },
  {
    "Clave": 21,
    "Nombre": "Predio en Juicio",
    "Descripci√≥n": "Tramite para predios con demanda o juicio en profeco",
    "Clase se tr√°mite": "Especial"
  },
  {
    "Clave": 24,
    "Nombre": "Reconexi√≥n de alcantarillado",
    "Descripci√≥n": "Reconexi√≥n de alcantarillado para usuarios provenientes de migraci√≥n.",
    "Clase se tr√°mite": "Especial"
  },
  {
    "Clave": 35,
    "Nombre": "Reconexi√≥n por caja de banqueta",
    "Descripci√≥n": "Reconexi√≥n por caja de banqueta para usuarios provenientes de migraci√≥n.",
    "Clase se tr√°mite": "Especial"
  },
  {
    "Clave": 36,
    "Nombre": "Reconexi√≥n a casa deshabitada",
    "Descripci√≥n": "Reconexi√≥n a casa deshabitada para predios de migraci√≥n",
    "Clase se tr√°mite": "Especial"
  },
  {
    "Clave": 38,
    "Nombre": "Contrataci√≥n regularizaci√≥n con medidor",
    "Descripci√≥n": "Contratacion para usuarios proveniente de migraci√≥n y que desea formalizar su contratoy que no tienen medidor",
    "Clase se tr√°mite": "Especial"
  },
  {
    "Clave": 43,
    "Nombre": "Notificaci√≥n a usuario factible",
    "Descripci√≥n": "Aviso a nuevos desarrollos (padron de usuarios)",
    "Clase se tr√°mite": "Especial"
  },
  {
    "Clave": 44,
    "Nombre": "Renovaci√≥n de susp. temporal casa deshabitada",
    "Descripci√≥n": "Tr√°mite para usuarios que estan suspendidos y requieren renovar por otro a√±o.",
    "Clase se tr√°mite": "Especial"
  },
  {
    "Clave": 59,
    "Nombre": "Reconexi√≥n de toma de agua 2026",
    "Descripci√≥n": "Reconexi√≥n de toma desde red central para cualquier situaci√≥n comercial de suspension proveniente de migraci√≥n y que desea formalizar su contrato.",
    "Clase se tr√°mite": "Especial"
  },
  {
    "Clave": 60,
    "Nombre": "Cancelaci√≥n definitiva toma.",
    "Descripci√≥n": "Tr√°mite por cancelaci√≥n definitiva de toma.",
    "Clase se tr√°mite": "Especial"
  },
  {
    "Clave": 61,
    "Nombre": "Suspensi√≥n voluntaria 2026",
    "Descripci√≥n": "Tr√°mite para suspensi√≥n voluntaria temporal por cuadro o registro en caja de banqueta",
    "Clase se tr√°mite": "Especial"
  },
  {
    "Clave": 95,
    "Nombre": "Solicitud suspensi√≥n voluntaria temporal",
    "Descripci√≥n": "Tr√°mite para suspensi√≥n voluntaria temporal por cuadro o registro en caja de banqueta",
    "Clase se tr√°mite": "Especial"
  },
  {
    "Clave": 124,
    "Nombre": "Reconexi√≥n voluntaria temporal",
    "Descripci√≥n": "Tr√°mite para reconexi√≥n voluntaria temporal por cuadro y/o registro en caja de banqueta.",
    "Clase se tr√°mite": "Especial"
  },
  {
    "Clave": 3,
    "Nombre": "Inspecci√≥n general del predio ",
    "Descripci√≥n": "Inspecci√≥n general del predio para validar que se le puede otorgar el servicio, esta conectado sin contrato y ",
    "Clase se tr√°mite": "General"
  },
  {
    "Clave": 5,
    "Nombre": "Contratacion nuevos servicios",
    "Descripci√≥n": "Contrataci√≥n para predios que no cuentan con toma de agua y/o drenaje",
    "Clase se tr√°mite": "General"
  },
  {
    "Clave": 6,
    "Nombre": "Venta de agua tratada en pipa",
    "Descripci√≥n": "Tramite para venta de agua tratada libre (sistema garza) a bordo, en planta autorizada, por metro cubico.",
    "Clase se tr√°mite": "General"
  },
  {
    "Clave": 7,
    "Nombre": "Factibilidad",
    "Descripci√≥n": "Tramite para generacion de factibilidad y presupuesto",
    "Clase se tr√°mite": "General"
  },
  {
    "Clave": 11,
    "Nombre": "Venta de agua potable a pipa particulares",
    "Descripci√≥n": "Suministro de agua a pipas particulares por m¬≥ (donde no se cuenta con infraestructura y no sea zona vulnerable)",
    "Clase se tr√°mite": "General"
  },
  {
    "Clave": 27,
    "Nombre": "Presupuesto Libre",
    "Descripci√≥n": "Presupuesto Libre para utilizar cualquier concepto",
    "Clase se tr√°mite": "General"
  },
  {
    "Clave": 34,
    "Nombre": "Suspensi√≥n casa deshabitada",
    "Descripci√≥n": "Tr√°mite para suspensi√≥n a casa deshabitada",
    "Clase se tr√°mite": "General"
  },
  {
    "Clave": 47,
    "Nombre": "Constancia de Control de Obligaciones",
    "Descripci√≥n": "Tr√°mite para usuarios que solicitan carta de no adeudo",
    "Clase se tr√°mite": "General"
  },
  {
    "Clave": 68,
    "Nombre": "Copia",
    "Descripci√≥n": "Tr√°mite para usuarios que solicitan una copia",
    "Clase se tr√°mite": "General"
  },
  {
    "Clave": 69,
    "Nombre": "Impresi√≥n estado de cuenta",
    "Descripci√≥n": "Tr√°mite para usuarios que solicitan la impresi√≥n del estado de cuenta",
    "Clase se tr√°mite": "General"
  },
  {
    "Clave": 98,
    "Nombre": "Venta de bases de licitaci√≥n",
    "Descripci√≥n": "Tr√°mite para Venta de bases de licitaci√≥n",
    "Clase se tr√°mite": "General"
  },
  {
    "Clave": 62,
    "Nombre": "Reconexi√≥n de toma de agua de 1-1/2\" GU",
    "Descripci√≥n": "Reconexi√≥n de toma para cualquier situaci√≥n comercial de suspension por morosidad proveniente de migraci√≥n y que desea formalizar su contrato.",
    "Clase se tr√°mite": "Grandes Usuarios"
  },
  {
    "Clave": 63,
    "Nombre": "Reconexi√≥n de toma de agua de 2\" GU",
    "Descripci√≥n": "Reconexi√≥n de toma para cualquier situaci√≥n comercial de suspension por morosidad proveniente de migraci√≥n y que desea formalizar su contrato.",
    "Clase se tr√°mite": "Grandes Usuarios"
  },
  {
    "Clave": 64,
    "Nombre": "Reconexi√≥n de toma de agua de 3\" GU",
    "Descripci√≥n": "Reconexi√≥n de toma para cualquier situaci√≥n comercial de suspension por morosidad proveniente de migraci√≥n y que desea formalizar su contrato.",
    "Clase se tr√°mite": "Grandes Usuarios"
  },
  {
    "Clave": 65,
    "Nombre": "Reconexi√≥n de toma de agua de 4\" GU",
    "Descripci√≥n": "Reconexi√≥n de toma para cualquier situaci√≥n comercial de suspension por morosidad proveniente de migraci√≥n y que desea formalizar su contrato.",
    "Clase se tr√°mite": "Grandes Usuarios"
  },
  {
    "Clave": 79,
    "Nombre": "Reubicaci√≥n de medidor de 1-1/2\"",
    "Descripci√≥n": "Tr√°mite para reubicaci√≥n del medidor para hacerlo m√°s visble por alguna obstrucci√≥n al lecturista",
    "Clase se tr√°mite": "Grandes Usuarios"
  },
  {
    "Clave": 80,
    "Nombre": "Instalaci√≥n de Medidor de 1-1/2\" GU",
    "Descripci√≥n": "Tr√°mite para intalaci√≥n de medidor a usuarios que ya cuenten con el servicio de agua potable y alcantarillado pero que requieran la instalaci√≥n del medidor y/o cuadro.",
    "Clase se tr√°mite": "Grandes Usuarios"
  },
  {
    "Clave": 81,
    "Nombre": "Instalaci√≥n de Medidor de 2\" GU",
    "Descripci√≥n": "Tr√°mite para intalaci√≥n de medidor a usuarios que ya cuenten con el servicio de agua potable y alcantarillado pero que requieran la instalaci√≥n del medidor y/o cuadro.",
    "Clase se tr√°mite": "Grandes Usuarios"
  },
  {
    "Clave": 82,
    "Nombre": "Instalaci√≥n de Medidor de 3\" GU",
    "Descripci√≥n": "Tr√°mite para intalaci√≥n de medidor a usuarios que ya cuenten con el servicio de agua potable y alcantarillado pero que requieran la instalaci√≥n del medidor y/o cuadro.",
    "Clase se tr√°mite": "Grandes Usuarios"
  },
  {
    "Clave": 83,
    "Nombre": "Instalaci√≥n de Medidor de 4\" GU",
    "Descripci√≥n": "Tr√°mite para intalaci√≥n de medidor a usuarios que ya cuenten con el servicio de agua potable y alcantarillado pero que requieran la instalaci√≥n del medidor y/o cuadro.",
    "Clase se tr√°mite": "Grandes Usuarios"
  },
  {
    "Clave": 84,
    "Nombre": "Reubicaci√≥n de medidor de 2\" GU",
    "Descripci√≥n": "Tr√°mite para reubicaci√≥n del medidor para hacerlo m√°s visble por alguna obstrucci√≥n al lecturista",
    "Clase se tr√°mite": "Grandes Usuarios"
  },
  {
    "Clave": 85,
    "Nombre": "Reubicaci√≥n de medidor de 3\" GU",
    "Descripci√≥n": "Tr√°mite para reubicaci√≥n del medidor para hacerlo m√°s visble por alguna obstrucci√≥n al lecturista",
    "Clase se tr√°mite": "Grandes Usuarios"
  },
  {
    "Clave": 86,
    "Nombre": "Reubicaci√≥n de medidor de 4\" GU",
    "Descripci√≥n": "Tr√°mite para reubicaci√≥n del medidor para hacerlo m√°s visble por alguna obstrucci√≥n al lecturista",
    "Clase se tr√°mite": "Grandes Usuarios"
  },
  {
    "Clave": 87,
    "Nombre": "Reconexi√≥n de toma de agua 2025 FNSM",
    "Descripci√≥n": "Reconexi√≥n de toma SIN COSTO para cuentas dentro del perimetro ferial y que se encuentren en  Situaci√≥n Comercial: Susp. FNSM.",
    "Clase se tr√°mite": "Grandes Usuarios"
  },
  {
    "Clave": 88,
    "Nombre": "Suspensi√≥n voluntaria temporal FNSM",
    "Descripci√≥n": "Tr√°mite para suspensi√≥n voluntaria temporal SIN COSTO para cuentas dentro del perimetro ferial y que unicamente se activan en tiempo de feria",
    "Clase se tr√°mite": "Grandes Usuarios"
  },
  {
    "Clave": 89,
    "Nombre": "A Real-Susp. FNSM",
    "Descripci√≥n": "Tr√°mite para cambiar usuarios ubicados dentro del perimetro ferial a Real -Susp. FNSM",
    "Clase se tr√°mite": "Grandes Usuarios"
  },
  {
    "Clave": 90,
    "Nombre": "A Real Activo FNSM",
    "Descripci√≥n": "Para cambiar la situaci√≥n comercial de Real Activo a Real  ActivoFNSM en predios del perimetro ferial",
    "Clase se tr√°mite": "Grandes Usuarios"
  },
  {
    "Clave": 92,
    "Nombre": "Reubicaci√≥n de medidor de 1\"",
    "Descripci√≥n": "Tr√°mite para reubicaci√≥n del medidor para hacerlo m√°s visible por alguna obstrucci√≥n al lecturista",
    "Clase se tr√°mite": "Grandes Usuarios"
  },
  {
    "Clave": 93,
    "Nombre": "Instalaci√≥n de Medidor y/o cuadro de 1\" GU",
    "Descripci√≥n": "Tr√°mite para instalaci√≥n de medidor a usuarios que ya cuenten con el servicio de agua potable y alcantarillado pero que requieran la instalaci√≥n del medidor 1\" y/o cuadro de 1/2 a 1\".",
    "Clase se tr√°mite": "Grandes Usuarios"
  },
  {
    "Clave": 94,
    "Nombre": "Reconexi√≥n de toma de agua de 1\" GU",
    "Descripci√≥n": "Reconexi√≥n de toma para cualquier situaci√≥n comercial de suspension por morosidad proveniente de migraci√≥n y que desea formalizar su contrato.",
    "Clase se tr√°mite": "Grandes Usuarios"
  },
  {
    "Clave": 100,
    "Nombre": "Carpeta de rodamiento conexi√≥n de alba√±al y nuevo servicio de agua 1\" G.U.",
    "Descripci√≥n": "Tr√°mite para contratacion de servicio de alba√±al(descarga), toma de agua, cuadro y medidor ",
    "Clase se tr√°mite": "Grandes Usuarios"
  },
  {
    "Clave": 101,
    "Nombre": "Carpeta de rodamiento conexi√≥n de alba√±al y nuevo servicio de agua 1-1/2\" G.U.",
    "Descripci√≥n": "Tr√°mite para contratacion de servicio de alba√±al(descarga), toma de agua, cuadro y medidor ",
    "Clase se tr√°mite": "Grandes Usuarios"
  },
  {
    "Clave": 102,
    "Nombre": "Carpeta de rodamiento conexi√≥n de alba√±al y nuevo servicio de agua 2\" G.U.",
    "Descripci√≥n": "Tr√°mite para contratacion de servicio de alba√±al(descarga), toma de agua, cuadro y medidor ",
    "Clase se tr√°mite": "Grandes Usuarios"
  },
  {
    "Clave": 103,
    "Nombre": "Carpeta de rodamiento conexi√≥n de alba√±al y nuevo servicio de agua 3\" G.U.",
    "Descripci√≥n": "Tr√°mite para contratacion de servicio de alba√±al(descarga), toma de agua, cuadro y medidor ",
    "Clase se tr√°mite": "Grandes Usuarios"
  },
  {
    "Clave": 104,
    "Nombre": "Carpeta de rodamiento conexi√≥n de alba√±al y nuevo servicio de agua 4\" G.U.",
    "Descripci√≥n": "Tr√°mite para contratacion de servicio de alba√±al(descarga), toma de agua, cuadro y medidor ",
    "Clase se tr√°mite": "Grandes Usuarios"
  },
  {
    "Clave": 105,
    "Nombre": "Rodamiento nuevo servicio de agua 1\" G.U.",
    "Descripci√≥n": "Tr√°mite para contrataci√≥n de servicio de toma de agua, cuadro y medidor",
    "Clase se tr√°mite": "Grandes Usuarios"
  },
  {
    "Clave": 106,
    "Nombre": "Rodamiento nuevo servicio de agua 1-1/2\" G.U.",
    "Descripci√≥n": "Tr√°mite para contrataci√≥n de servicio de toma de agua, cuadro y medidor",
    "Clase se tr√°mite": "Grandes Usuarios"
  },
  {
    "Clave": 107,
    "Nombre": "Rodamiento nuevo servicio de agua 2\" G.U.",
    "Descripci√≥n": "Tr√°mite para contrataci√≥n de servicio de toma de agua, cuadro y medidor",
    "Clase se tr√°mite": "Grandes Usuarios"
  },
  {
    "Clave": 108,
    "Nombre": "Rodamiento nuevo servicio de agua 3\" G.U.",
    "Descripci√≥n": "Tr√°mite para contrataci√≥n de servicio de toma de agua, cuadro y medidor",
    "Clase se tr√°mite": "Grandes Usuarios"
  },
  {
    "Clave": 109,
    "Nombre": "Rodamiento nuevo servicio de agua 4\" G.U.",
    "Descripci√≥n": "Tr√°mite para contrataci√≥n de servicio de toma de agua, cuadro y medidor",
    "Clase se tr√°mite": "Grandes Usuarios"
  },
  {
    "Clave": 110,
    "Nombre": "Rodamiento alba√±al G.U.",
    "Descripci√≥n": "Tr√°mite para contrataci√≥n, solo de alba√±al en Rodamiento.",
    "Clase se tr√°mite": "Grandes Usuarios"
  },
  {
    "Clave": 111,
    "Nombre": "Tierra conexion de alba√±al y nuevo servicio de agua 1\" G.U.",
    "Descripci√≥n": "Tr√°mite para contrataci√≥n de servicio de alba√±al(descarga), toma de agua, cuadro y medidor ",
    "Clase se tr√°mite": "Grandes Usuarios"
  },
  {
    "Clave": 112,
    "Nombre": "Tierra conexion de alba√±al y nuevo servicio de agua 1-1/2\" G.U.",
    "Descripci√≥n": "Tr√°mite para contrataci√≥n de servicio de alba√±al(descarga), toma de agua, cuadro y medidor ",
    "Clase se tr√°mite": "Grandes Usuarios"
  },
  {
    "Clave": 113,
    "Nombre": "Tierra conexion de alba√±al y nuevo servicio de agua 2\" G.U.",
    "Descripci√≥n": "Tr√°mite para contrataci√≥n de servicio de alba√±al(descarga), toma de agua, cuadro y medidor ",
    "Clase se tr√°mite": "Grandes Usuarios"
  },
  {
    "Clave": 114,
    "Nombre": "Tierra conexion de alba√±al y nuevo servicio de agua 3\" G.U.",
    "Descripci√≥n": "Tr√°mite para contrataci√≥n de servicio de alba√±al(descarga), toma de agua, cuadro y medidor ",
    "Clase se tr√°mite": "Grandes Usuarios"
  },
  {
    "Clave": 115,
    "Nombre": "Tierra conexion de alba√±al y nuevo servicio de agua 4\" G.U.",
    "Descripci√≥n": "Tr√°mite para contrataci√≥n de servicio de alba√±al(descarga), toma de agua, cuadro y medidor ",
    "Clase se tr√°mite": "Grandes Usuarios"
  },
  {
    "Clave": 116,
    "Nombre": "Tierra Conexi√≥n de alba√±al G.U.",
    "Descripci√≥n": "Tr√°mite para contrataci√≥n, solo de alba√±al en Tierra.",
    "Clase se tr√°mite": "Grandes Usuarios"
  },
  {
    "Clave": 117,
    "Nombre": "Tierra nuevo servicio de agua 1\" G.U.",
    "Descripci√≥n": "Tr√°mite para contrataci√≥n de servicio de toma de agua, cuadro y medidor",
    "Clase se tr√°mite": "Grandes Usuarios"
  },
  {
    "Clave": 118,
    "Nombre": "Tierra nuevo servicio de agua 1-1/2\" G.U.",
    "Descripci√≥n": "Tr√°mite para contrataci√≥n de servicio de toma de agua, cuadro y medidor",
    "Clase se tr√°mite": "Grandes Usuarios"
  },
  {
    "Clave": 119,
    "Nombre": "Tierra nuevo servicio de agua 2\" G.U.",
    "Descripci√≥n": "Tr√°mite para contrataci√≥n de servicio de toma de agua, cuadro y medidor",
    "Clase se tr√°mite": "Grandes Usuarios"
  },
  {
    "Clave": 120,
    "Nombre": "Tierra nuevo servicio de agua 3\" G.U.",
    "Descripci√≥n": "Tr√°mite para contrataci√≥n de servicio de toma de agua, cuadro y medidor",
    "Clase se tr√°mite": "Grandes Usuarios"
  },
  {
    "Clave": 121,
    "Nombre": "Tierra nuevo servicio de agua 4\" G.U.",
    "Descripci√≥n": "Tr√°mite para contrataci√≥n de servicio de toma de agua, cuadro y medidor",
    "Clase se tr√°mite": "Grandes Usuarios"
  },
  {
    "Clave": 8,
    "Nombre": "Limpieza de fosa s√©ptica en casa habitaci√≥n",
    "Descripci√≥n": "Costo horario por servicio de limpieza de fosa s√©ptica, previo dictamen del supervisor, en casa habitaci√≥n.",
    "Clase se tr√°mite": "Mantenimiento"
  },
  {
    "Clave": 10,
    "Nombre": "Limpieza de fosa s√©ptica comercio y/o industria",
    "Descripci√≥n": "Costo horario por servicio de limpieza de fosa s√©ptica, previo dictamen del supervisor, en comercio o industria",
    "Clase se tr√°mite": "Mantenimiento"
  },
  {
    "Clave": 56,
    "Nombre": "Mantenimiento de caja de banqueta",
    "Descripci√≥n": "Tr√°mite para solicitar el cambio de caja de banqueta por mantenimiento",
    "Clase se tr√°mite": "Mantenimiento"
  },
  {
    "Clave": 76,
    "Nombre": "Venta de caja de polietileno registro en banqueta",
    "Descripci√≥n": "Tr√°mite por cambio de caja de banqueta por mantenimiento",
    "Clase se tr√°mite": "Mantenimiento"
  },
  {
    "Clave": 4,
    "Nombre": "Venta de medidor y/o cuadro",
    "Descripci√≥n": "Venta de medidor e instalaci√≥n para predios que ya cuentan con los servicios instalados.",
    "Clase se tr√°mite": "Medidores"
  },
  {
    "Clave": 16,
    "Nombre": "Reubicaci√≥n de medidor en cuadro",
    "Descripci√≥n": "Tr√°mite para reubicaci√≥n del medidor en cuadro para hacerlo m√°s visble por alguna obstrucci√≥n al lecturista",
    "Clase se tr√°mite": "Medidores"
  },
  {
    "Clave": 25,
    "Nombre": "Instalaci√≥n de medidor sin costo",
    "Descripci√≥n": "Tr√°mite para usuarios que no es les cobra medidor por robo.",
    "Clase se tr√°mite": "Medidores"
  },
  {
    "Clave": 30,
    "Nombre": "Cambio de medidor",
    "Descripci√≥n": "Tr√°mite para venta de un medidor nuevo por cambio de vida √∫til, desperfecto o solicitud del usuario.",
    "Clase se tr√°mite": "Medidores"
  },
  {
    "Clave": 32,
    "Nombre": "Cambio de medidor sin costo por robo",
    "Descripci√≥n": "Tr√°mite para cambio de medidor sin costo por robo con denuncia en MP max 15 d√≠as y no se les cobra.",
    "Clase se tr√°mite": "Medidores"
  },
  {
    "Clave": 46,
    "Nombre": "Instalaci√≥n de columpio",
    "Descripci√≥n": "Tr√°mite instalaci√≥n solamente de columpio",
    "Clase se tr√°mite": "Medidores"
  },
  {
    "Clave": 55,
    "Nombre": "Reubicaci√≥n de medidor a caja de registro",
    "Descripci√≥n": "Tr√°mite para reubicaci√≥n del medidor a caja de registro para hacerlo m√°s visible.",
    "Clase se tr√°mite": "Medidores"
  },
  {
    "Clave": 75,
    "Nombre": "Sumistro y colocaci√≥n de caja de registro en banqueta",
    "Descripci√≥n": "Tr√°mite para construcci√≥n, suministro y colocaci√≥n de caja de registro en banqueta nuevo, por solicitud del usuario.",
    "Clase se tr√°mite": "Medidores"
  },
  {
    "Clave": 91,
    "Nombre": "Reubicaci√≥n de cuadro",
    "Descripci√≥n": "Tr√°mite para reubicaci√≥n del cuadro para hacerlo m√°s visible, por obstrucci√≥n de toma de lectura o modificaci√≥n al inmueble.",
    "Clase se tr√°mite": "Medidores"
  },
  {
    "Clave": 72,
    "Nombre": "Aviso suspensi√≥n a morosos no dom√©stico 2025",
    "Descripci√≥n": "Tr√°mite para aviso de suspensi√≥n del servicio a usuarios no dom√©sticos Hospitales privados, Comerciales, Industriales",
    "Clase se tr√°mite": "NOTIFICACIONES Y COBRANZA"
  },
  {
    "Clave": 73,
    "Nombre": "Aviso suspensi√≥n a morosos dom√©stico 2025",
    "Descripci√≥n": "Tr√°mite para aviso de suspensi√≥n del servicio a usuarios dom√©sticos A AA B C, Rural",
    "Clase se tr√°mite": "NOTIFICACIONES Y COBRANZA"
  },
  {
    "Clave": 78,
    "Nombre": "Carta Notificaci√≥n Dom√©sticos",
    "Descripci√≥n": "Tr√°mite para envio de notificaic√≥n de suspensi√≥n a usuarios domesticos",
    "Clase se tr√°mite": "NOTIFICACIONES Y COBRANZA"
  },
  {
    "Clave": 96,
    "Nombre": "Carta Notificaci√≥n No Dom√©sticos",
    "Descripci√≥n": "Tr√°mite para envio de notificaciones a usuarios no dom√©scticos",
    "Clase se tr√°mite": "NOTIFICACIONES Y COBRANZA"
  },
  {
    "Clave": 99,
    "Nombre": "A En Juicio",
    "Descripci√≥n": "Para cambiar la situacion comercial de Real Activo a En Juicio",
    "Clase se tr√°mite": "NOTIFICACIONES Y COBRANZA"
  },
  {
    "Clave": 123,
    "Nombre": "Verificaci√≥n de datos",
    "Descripci√≥n": "Tr√°mite pata verificaci√≥n de datos de usuario",
    "Clase se tr√°mite": "NOTIFICACIONES Y COBRANZA"
  },
  {
    "Clave": 13,
    "Nombre": "Baja por cuenta duplicada ",
    "Descripci√≥n": "Tramite para baja por cuenta duplicada, se inactiva para que solo quede el tramite de inexistente duplicado tramite 41",
    "Clase se tr√°mite": "Padr√≥n y Lectura"
  },
  {
    "Clave": 20,
    "Nombre": "A Real Activo",
    "Descripci√≥n": "Para activar un predio",
    "Clase se tr√°mite": "Padr√≥n y Lectura"
  },
  {
    "Clave": 33,
    "Nombre": "A No Facturable",
    "Descripci√≥n": "Tr√°mite para cambio de situaci√≥n comercial de Activo a No Facturable",
    "Clase se tr√°mite": "Padr√≥n y Lectura"
  },
  {
    "Clave": 41,
    "Nombre": "Inexistente Duplicado",
    "Descripci√≥n": "Tr√°mite para dar de baja predios por inexistencia o duplicidad",
    "Clase se tr√°mite": "Padr√≥n y Lectura"
  },
  {
    "Clave": 42,
    "Nombre": "Columpio y medidor predios activos",
    "Descripci√≥n": "Tr√°mite para clientes que ya cuentan con el servicio de agua y drenaje y solo requieren de columpio y medidor y que y este activo el predio",
    "Clase se tr√°mite": "Padr√≥n y Lectura"
  },
  {
    "Clave": 48,
    "Nombre": "Baja definitiva",
    "Descripci√≥n": "Tr√°mite para cambio de situaci√≥n comercial Baja Definitiva",
    "Clase se tr√°mite": "Padr√≥n y Lectura"
  },
  {
    "Clave": 49,
    "Nombre": "Real - activo",
    "Descripci√≥n": "Tr√°mite para cambiar a real a activo a usuarios que se cambiaroron a baja para no facturarles",
    "Clase se tr√°mite": "Padr√≥n y Lectura"
  },
  {
    "Clave": 50,
    "Nombre": "Factible - Potencial",
    "Descripci√≥n": "Tr√°mite para cambiar a factible potencial usuarios del padr√≥n",
    "Clase se tr√°mite": "Padr√≥n y Lectura"
  },
  {
    "Clave": 51,
    "Nombre": "Real - Susp. Columpio",
    "Descripci√≥n": "Tr√°mite para cambiar usuarios del padr√≥n a Real - Susp. Columpio",
    "Clase se tr√°mite": "Padr√≥n y Lectura"
  },
  {
    "Clave": 52,
    "Nombre": "Real - Susp. Deshabitado",
    "Descripci√≥n": "Tr√°mite para cambiar usuarios del padr√≥n a Real - Susp. Deshabitado",
    "Clase se tr√°mite": "Padr√≥n y Lectura"
  },
  {
    "Clave": 53,
    "Nombre": "Reubicaci√≥n de medidor sin costo",
    "Descripci√≥n": "Tr√°mite para reubicaci√≥n del medidor para hacerlo m√°s visble por alguna obstrucci√≥n al lecturista",
    "Clase se tr√°mite": "Padr√≥n y Lectura"
  },
  {
    "Clave": 66,
    "Nombre": "Real - Susp, Banqueta",
    "Descripci√≥n": "Tr√°mite para cambiar usuarios de real a suspendio banqueta por tarmite de suspensi√≥n ",
    "Clase se tr√°mite": "Padr√≥n y Lectura"
  },
  {
    "Clave": 67,
    "Nombre": "Real - Susp. Cuadro",
    "Descripci√≥n": "Tr√°mite para cambiar usuarios de real a suspendido cuadro para usuarios que se les suspendio el servicio",
    "Clase se tr√°mite": "Padr√≥n y Lectura"
  },
  {
    "Clave": 97,
    "Nombre": "Real - Susp. Registro",
    "Descripci√≥n": "Tr√°mite para cambiar usuarios de real a suspendido registro para usuarios que se les suspendio el servicio",
    "Clase se tr√°mite": "Padr√≥n y Lectura"
  },
  {
    "Clave": 122,
    "Nombre": "A Cancelaci√≥n definitiva",
    "Descripci√≥n": "Tramite para cambio de situaci√≥n comercial Cancelaci√≥n definitiva de toma",
    "Clase se tr√°mite": "Padr√≥n y Lectura"
  }
]
        };
        
        let conceptosData = JSON.parse(JSON.stringify(ORIGINAL_DATA.conceptos));
        let presupuestosData = JSON.parse(JSON.stringify(ORIGINAL_DATA.presupuestos));
        let tramitesData = JSON.parse(JSON.stringify(ORIGINAL_DATA.tramites));
        
        // ========================================
        // VARIABLES GLOBALES
        // ========================================
        
        const PASSWORD_CORRECTA = 'admin123';
        let modoEdicion = false;
        let currentTable = '';
        let currentFile = null;
        let currentFileData = null;
        
        // ========================================
        // FUNCIONES DE AUTENTICACI√ìN
        // ========================================
        
        function solicitarContrasenaNavegacion() {
            document.getElementById('passwordModal').classList.add('active');
            document.getElementById('passwordInput').value = '';
            document.getElementById('errorMessage').classList.remove('show');
            setTimeout(() => document.getElementById('passwordInput').focus(), 100);
        }
        
        function verificarContrasena() {
            const passwordInput = document.getElementById('passwordInput');
            const errorMessage = document.getElementById('errorMessage');
            const passwordIngresada = passwordInput.value;
            
            if (passwordIngresada === PASSWORD_CORRECTA) {
                cerrarModal('passwordModal');
                irAOtraVista();
            } else {
                errorMessage.classList.add('show');
                passwordInput.value = '';
                passwordInput.focus();
                setTimeout(() => errorMessage.classList.remove('show'), 3000);
            }
        }
        
        function handlePasswordKeyPress(event) {
            if (event.key === 'Enter') verificarContrasena();
        }
        
        function solicitarDesbloquear() {
            document.getElementById('unlockModal').classList.add('active');
            document.getElementById('unlockPasswordInput').value = '';
            document.getElementById('unlockErrorMessage').classList.remove('show');
            setTimeout(() => document.getElementById('unlockPasswordInput').focus(), 100);
        }
        
        function verificarDesbloqueo() {
            const passwordInput = document.getElementById('unlockPasswordInput');
            const errorMessage = document.getElementById('unlockErrorMessage');
            const passwordIngresada = passwordInput.value;
            
            if (passwordIngresada === PASSWORD_CORRECTA) {
                cerrarModal('unlockModal');
                activarModoEdicion();
            } else {
                errorMessage.classList.add('show');
                passwordInput.value = '';
                passwordInput.focus();
                setTimeout(() => errorMessage.classList.remove('show'), 3000);
            }
        }
        
        function handleUnlockKeyPress(event) {
            if (event.key === 'Enter') verificarDesbloqueo();
        }
        
        function activarModoEdicion() {
            modoEdicion = true;
            
            // Ocultar overlays de bloqueo
            document.getElementById('lockedConceptos').classList.remove('active');
            document.getElementById('lockedPresupuestos').classList.remove('active');
            document.getElementById('lockedTramites').classList.remove('active');
            
            // Habilitar botones
            document.getElementById('btnAddColumnConceptos').disabled = false;
            document.getElementById('btnSaveConceptos').disabled = false;
            document.getElementById('btnResetConceptos').disabled = false;
            
            document.getElementById('btnAddColumnPresupuestos').disabled = false;
            document.getElementById('btnSavePresupuestos').disabled = false;
            document.getElementById('btnResetPresupuestos').disabled = false;
            
            document.getElementById('btnAddColumnTramites').disabled = false;
            document.getElementById('btnSaveTramites').disabled = false;
            document.getElementById('btnResetTramites').disabled = false;
            
            // Cambiar bot√≥n de desbloqueo
            const btnUnlock = document.getElementById('btnUnlock');
            btnUnlock.textContent = 'üîí Bloquear Edici√≥n';
            btnUnlock.style.background = '#e74c3c';
            btnUnlock.onclick = bloquearEdicion;
            
            // Volver a renderizar tablas en modo edici√≥n
            renderTable(conceptosData, 'tableConceptos', 'headConceptos', 'bodyConceptos', 'totalConceptos');
            renderTable(presupuestosData, 'tablePresupuestos', 'headPresupuestos', 'bodyPresupuestos', 'totalPresupuestos');
            renderTable(tramitesData, 'tableTramites', 'headTramites', 'bodyTramites', 'totalTramites');
            
            mostrarNotificacion('‚úÖ Modo edici√≥n activado', 'success');
        }
        
        function bloquearEdicion() {
            modoEdicion = false;
            
            // Mostrar overlays de bloqueo
            document.getElementById('lockedConceptos').classList.add('active');
            document.getElementById('lockedPresupuestos').classList.add('active');
            document.getElementById('lockedTramites').classList.add('active');
            
            // Deshabilitar botones
            document.getElementById('btnAddColumnConceptos').disabled = true;
            document.getElementById('btnSaveConceptos').disabled = true;
            document.getElementById('btnResetConceptos').disabled = true;
            
            document.getElementById('btnAddColumnPresupuestos').disabled = true;
            document.getElementById('btnSavePresupuestos').disabled = true;
            document.getElementById('btnResetPresupuestos').disabled = true;
            
            document.getElementById('btnAddColumnTramites').disabled = true;
            document.getElementById('btnSaveTramites').disabled = true;
            document.getElementById('btnResetTramites').disabled = true;
            
            // Cambiar bot√≥n
            const btnUnlock = document.getElementById('btnUnlock');
            btnUnlock.textContent = 'üîì Modo Edici√≥n';
            btnUnlock.style.background = '#f39c12';
            btnUnlock.onclick = solicitarDesbloquear;
            
            // Volver a renderizar tablas en modo solo lectura
            renderTable(conceptosData, 'tableConceptos', 'headConceptos', 'bodyConceptos', 'totalConceptos');
            renderTable(presupuestosData, 'tablePresupuestos', 'headPresupuestos', 'bodyPresupuestos', 'totalPresupuestos');
            renderTable(tramitesData, 'tableTramites', 'headTramites', 'bodyTramites', 'totalTramites');
            
            mostrarNotificacion('üîí Modo solo lectura activado', 'warning');
        }
        
        function cerrarModal(modalId) {
            document.getElementById(modalId).classList.remove('active');
        }
        
        window.onclick = function(event) {
            if (event.target.classList.contains('modal')) {
                event.target.classList.remove('active');
            }
        }
        
        function irAOtraVista() {
            window.onbeforeunload = null;
            window.location.href = 'sistema_principal.html';
        }
        
        function salir() {
            if (confirm('¬øEst√°s seguro que deseas salir del sistema?')) {
                window.onbeforeunload = null;
                window.close();
                setTimeout(() => alert('Por favor, cierra manualmente esta pesta√±a del navegador.'), 100);
            }
        }
        
        // ========================================
        // FUNCIONES DE CARGA DE ARCHIVOS
        // ========================================
        
        function solicitarCargarArchivo(tableName) {
            currentTable = tableName;
            document.getElementById('uploadModal').classList.add('active');
            document.getElementById('fileInfo').classList.remove('show');
            document.getElementById('btnCargarArchivo').disabled = true;
            currentFile = null;
            currentFileData = null;
        }
        
        // Configurar eventos de archivo
        document.getElementById('fileInput').addEventListener('change', function(e) {
            manejarArchivo(e.target.files[0]);
        });
        
        // Drag and drop
        const dropZone = document.getElementById('fileDropZone');
        
        dropZone.addEventListener('dragover', function(e) {
            e.preventDefault();
            e.stopPropagation();
            this.classList.add('dragover');
        });
        
        dropZone.addEventListener('dragleave', function(e) {
            e.preventDefault();
            e.stopPropagation();
            this.classList.remove('dragover');
        });
        
        dropZone.addEventListener('drop', function(e) {
            e.preventDefault();
            e.stopPropagation();
            this.classList.remove('dragover');
            
            const files = e.dataTransfer.files;
            if (files.length > 0) {
                manejarArchivo(files[0]);
            }
        });
        
        function manejarArchivo(file) {
            if (!file) return;
            
            const validTypes = ['application/vnd.openxmlformats-officedocument.spreadsheetml.sheet', 
                               'application/vnd.ms-excel', 
                               'text/csv'];
            
            if (!validTypes.includes(file.type) && !file.name.match(/\.(xlsx|xls|csv)$/i)) {
                mostrarNotificacion('‚ùå Formato de archivo no v√°lido. Solo se aceptan Excel (.xlsx, .xls) o CSV (.csv)', 'error');
                return;
            }
            
            currentFile = file;
            
            document.getElementById('fileName').textContent = file.name;
            document.getElementById('fileDetails').textContent = `Tama√±o: ${(file.size / 1024).toFixed(2)} KB | Tipo: ${file.type || 'CSV'}`;
            document.getElementById('fileInfo').classList.add('show');
            
            // Leer archivo
            const reader = new FileReader();
            
            if (file.name.match(/\.csv$/i)) {
                // Leer CSV
                reader.onload = function(e) {
                    Papa.parse(e.target.result, {
                        header: true,
                        skipEmptyLines: true,
                        complete: function(results) {
                            currentFileData = results.data;
                            document.getElementById('btnCargarArchivo').disabled = false;
                            mostrarNotificacion(`‚úÖ Archivo le√≠do: ${results.data.length} registros encontrados`, 'success');
                        },
                        error: function(error) {
                            mostrarNotificacion('‚ùå Error al leer el archivo CSV', 'error');
                            console.error(error);
                        }
                    });
                };
                reader.readAsText(file);
            } else {
                // Leer Excel
                reader.onload = function(e) {
                    try {
                        const data = new Uint8Array(e.target.result);
                        const workbook = XLSX.read(data, {type: 'array'});
                        
                        // Leer la primera hoja
                        const firstSheetName = workbook.SheetNames[0];
                        const worksheet = workbook.Sheets[firstSheetName];
                        
                        // Convertir a JSON
                        const jsonData = XLSX.utils.sheet_to_json(worksheet);
                        
                        currentFileData = jsonData;
                        document.getElementById('btnCargarArchivo').disabled = false;
                        mostrarNotificacion(`‚úÖ Archivo le√≠do: ${jsonData.length} registros encontrados`, 'success');
                    } catch (error) {
                        mostrarNotificacion('‚ùå Error al leer el archivo Excel', 'error');
                        console.error(error);
                    }
                };
                reader.readAsArrayBuffer(file);
            }
        }
        
        function cargarArchivo() {
            if (!currentFileData || currentFileData.length === 0) {
                mostrarNotificacion('‚ùå No hay datos para cargar', 'error');
                return;
            }
            
            // Reemplazar datos de la tabla actual
            if (currentTable === 'conceptos') {
                conceptosData = currentFileData;
                renderTable(conceptosData, 'tableConceptos', 'headConceptos', 'bodyConceptos', 'totalConceptos');
            } else if (currentTable === 'presupuestos') {
                presupuestosData = currentFileData;
                renderTable(presupuestosData, 'tablePresupuestos', 'headPresupuestos', 'bodyPresupuestos', 'totalPresupuestos');
            } else if (currentTable === 'tramites') {
                tramitesData = currentFileData;
                renderTable(tramitesData, 'tableTramites', 'headTramites', 'bodyTramites', 'totalTramites');
            }
            
            cerrarModal('uploadModal');
            mostrarNotificacion(`‚úÖ ${currentFileData.length} registros cargados en ${currentTable}`, 'success');
            
            // Resetear variables
            currentFile = null;
            currentFileData = null;
        }
        
        // ========================================
        // FUNCIONES DE EDICI√ìN
        // ========================================
        
        function solicitarAgregarColumna(tableName) {
            if (!modoEdicion) {
                mostrarNotificacion('‚ö†Ô∏è Debes activar el modo edici√≥n primero', 'warning');
                return;
            }
            currentTable = tableName;
            document.getElementById('addColumnModal').classList.add('active');
            document.getElementById('columnNameInput').value = '';
            setTimeout(() => document.getElementById('columnNameInput').focus(), 100);
        }
        
        function handleColumnKeyPress(event) {
            if (event.key === 'Enter') agregarColumna();
        }
        
        function agregarColumna() {
            const columnName = document.getElementById('columnNameInput').value.trim();
            
            if (!columnName) {
                mostrarNotificacion('Por favor ingresa un nombre para la columna', 'error');
                return;
            }
            
            const dataMap = {
                'conceptos': conceptosData,
                'presupuestos': presupuestosData,
                'tramites': tramitesData
            };
            
            const data = dataMap[currentTable];
            
            if (data.length > 0 && data[0].hasOwnProperty(columnName)) {
                mostrarNotificacion('Esta columna ya existe', 'error');
                return;
            }
            
            data.forEach(row => {
                row[columnName] = '';
            });
            
            cerrarModal('addColumnModal');
            renderTable(data, 'table' + capitalizeFirst(currentTable), 'head' + capitalizeFirst(currentTable), 
                       'body' + capitalizeFirst(currentTable), 'total' + capitalizeFirst(currentTable));
            
            mostrarNotificacion('Columna agregada correctamente', 'success');
        }
        
        function eliminarColumna(tableName, columnName) {
            if (!modoEdicion) return;
            
            if (!confirm(`¬øEst√°s seguro de eliminar la columna "${columnName}"?`)) return;
            
            const dataMap = {
                'conceptos': conceptosData,
                'presupuestos': presupuestosData,
                'tramites': tramitesData
            };
            
            const data = dataMap[tableName];
            
            data.forEach(row => {
                delete row[columnName];
            });
            
            renderTable(data, 'table' + capitalizeFirst(tableName), 'head' + capitalizeFirst(tableName), 
                       'body' + capitalizeFirst(tableName), 'total' + capitalizeFirst(tableName));
            
            mostrarNotificacion('Columna eliminada correctamente', 'success');
        }
        
        function eliminarFila(tableName, rowIndex) {
            if (!modoEdicion) return;
            
            if (!confirm('¬øEst√°s seguro de eliminar esta fila?')) return;
            
            const dataMap = {
                'conceptos': conceptosData,
                'presupuestos': presupuestosData,
                'tramites': tramitesData
            };
            
            const data = dataMap[tableName];
            data.splice(rowIndex, 1);
            
            renderTable(data, 'table' + capitalizeFirst(tableName), 'head' + capitalizeFirst(tableName), 
                       'body' + capitalizeFirst(tableName), 'total' + capitalizeFirst(tableName));
            
            mostrarNotificacion('Fila eliminada correctamente', 'success');
        }
        
        function editarCelda(tableName, rowIndex, columnName, tdElement) {
            if (!modoEdicion) return;
            
            const dataMap = {
                'conceptos': conceptosData,
                'presupuestos': presupuestosData,
                'tramites': tramitesData
            };
            
            const currentValue = dataMap[tableName][rowIndex][columnName];
            
            const input = document.createElement('input');
            input.type = 'text';
            input.value = currentValue;
            input.onblur = function() {
                dataMap[tableName][rowIndex][columnName] = this.value;
                tdElement.textContent = this.value || '-';
                tdElement.classList.add('editable');
            };
            input.onkeypress = function(e) {
                if (e.key === 'Enter') this.blur();
            };
            
            tdElement.textContent = '';
            tdElement.appendChild(input);
            input.focus();
            input.select();
        }
        
        function guardarCambios(tableName) {
            const dataMap = {
                'conceptos': conceptosData,
                'presupuestos': presupuestosData,
                'tramites': tramitesData
            };
            
            const data = dataMap[tableName];
            const jsonData = JSON.stringify(data, null, 2);
            
            console.log(`Cambios guardados en ${tableName}:`, jsonData);
            mostrarNotificacion(`Cambios guardados en ${tableName}`, 'success');
        }
        
        function resetearDatos(tableName) {
            if (!confirm('¬øEst√°s seguro de resetear todos los datos a su estado original?')) return;
            
            if (tableName === 'conceptos') {
                conceptosData = JSON.parse(JSON.stringify(ORIGINAL_DATA.conceptos));
                renderTable(conceptosData, 'tableConceptos', 'headConceptos', 'bodyConceptos', 'totalConceptos');
            } else if (tableName === 'presupuestos') {
                presupuestosData = JSON.parse(JSON.stringify(ORIGINAL_DATA.presupuestos));
                renderTable(presupuestosData, 'tablePresupuestos', 'headPresupuestos', 'bodyPresupuestos', 'totalPresupuestos');
            } else if (tableName === 'tramites') {
                tramitesData = JSON.parse(JSON.stringify(ORIGINAL_DATA.tramites));
                renderTable(tramitesData, 'tableTramites', 'headTramites', 'bodyTramites', 'totalTramites');
            }
            
            mostrarNotificacion('Datos reseteados al estado original', 'success');
        }
        
        function descargarJSON() {
            const allData = {
                conceptos: conceptosData,
                presupuestos: presupuestosData,
                tramites: tramitesData,
                listados: listadosData
            };
            
            const dataStr = JSON.stringify(allData, null, 2);
            const dataBlob = new Blob([dataStr], {type: 'application/json'});
            const url = URL.createObjectURL(dataBlob);
            const link = document.createElement('a');
            link.href = url;
            link.download = 'datos_sistema_' + new Date().toISOString().split('T')[0] + '.json';
            link.click();
            URL.revokeObjectURL(url);
            
            mostrarNotificacion('Archivo JSON descargado', 'success');
        }
        
        function mostrarNotificacion(mensaje, tipo) {
            const notification = document.getElementById('notification');
            notification.textContent = mensaje;
            notification.className = 'notification show ' + tipo;
            
            setTimeout(() => {
                notification.classList.remove('show');
            }, 3000);
        }
        
        function capitalizeFirst(str) {
            return str.charAt(0).toUpperCase() + str.slice(1);
        }
        
        // ========================================
        // FUNCIONES DE RENDERIZADO
        // ========================================
        
        function showTab(tabName, event) {
            document.querySelectorAll('.tab-content').forEach(content => content.classList.remove('active'));
            document.querySelectorAll('.tab-button').forEach(button => button.classList.remove('active'));
            document.getElementById(tabName).classList.add('active');
            event.target.classList.add('active');
        }
        
        function renderTable(dataArray, tableId, headId, bodyId, countId) {
            if (!dataArray || dataArray.length === 0) {
                document.getElementById(bodyId).innerHTML = '<tr><td colspan="100" class="no-results">No hay datos disponibles. Usa "üì§ Cargar Listado" para importar datos.</td></tr>';
                document.getElementById(countId).textContent = '0';
                return;
            }
            
            const columns = Object.keys(dataArray[0]);
            const tableName = tableId.replace('table', '').toLowerCase();
            
            // Generar encabezados
            let headHTML = '';
            columns.forEach(col => {
                headHTML += `<th>
                    ${col}
                    <button class="btn-delete-column ${modoEdicion ? 'editable' : ''}" onclick="eliminarColumna('${tableName}', '${col}')" title="Eliminar columna">
                        ‚ùå
                    </button>
                </th>`;
            });
            headHTML += '<th>Acciones</th>';
            document.getElementById(headId).innerHTML = headHTML;
            
            // Generar filas
            let bodyHTML = '';
            dataArray.forEach((row, rowIndex) => {
                bodyHTML += '<tr>';
                columns.forEach(col => {
                    let value = row[col];
                    if (value === null || value === undefined || value === '') value = '-';
                    if (typeof value === 'number') value = value.toLocaleString('es-MX');
                    
                    if (modoEdicion) {
                        bodyHTML += `<td class="editable" onclick="editarCelda('${tableName}', ${rowIndex}, '${col}', this)">${value}</td>`;
                    } else {
                        bodyHTML += `<td class="read-only">${value}</td>`;
                    }
                });
                bodyHTML += `<td><button class="btn-delete-row ${modoEdicion ? 'editable' : ''}" onclick="eliminarFila('${tableName}', ${rowIndex})">üóëÔ∏è Eliminar</button></td>`;
                bodyHTML += '</tr>';
            });
            
            document.getElementById(bodyId).innerHTML = bodyHTML;
            document.getElementById(countId).textContent = dataArray.length;
        }
        
        function filterTable(tableName) {
            const searchId = 'search' + capitalizeFirst(tableName);
            const tableId = 'table' + capitalizeFirst(tableName);
            
            const input = document.getElementById(searchId);
            const filter = input.value.toUpperCase();
            const table = document.getElementById(tableId);
            const tr = table.getElementsByTagName('tr');
            
            let visibleCount = 0;
            
            for (let i = 1; i < tr.length; i++) {
                const tds = tr[i].getElementsByTagName('td');
                let found = false;
                
                for (let j = 0; j < tds.length - 1; j++) {
                    const td = tds[j];
                    if (td) {
                        const txtValue = td.textContent || td.innerText;
                        if (txtValue.toUpperCase().indexOf(filter) > -1) {
                            found = true;
                            break;
                        }
                    }
                }
                
                if (found) {
                    tr[i].style.display = '';
                    visibleCount++;
                } else {
                    tr[i].style.display = 'none';
                }
            }
            
            const countId = 'total' + capitalizeFirst(tableName);
            document.getElementById(countId).textContent = visibleCount;
        }
        
        // ========================================
        // INICIALIZACI√ìN
        // ========================================
        
        document.addEventListener('DOMContentLoaded', function() {
            console.log('üöÄ Sistema Iniciado');
            
            // Activar modo bloqueado por defecto
            document.getElementById('lockedConceptos').classList.add('active');
            document.getElementById('lockedPresupuestos').classList.add('active');
            document.getElementById('lockedTramites').classList.add('active');
            
            renderTable(conceptosData, 'tableConceptos', 'headConceptos', 'bodyConceptos', 'totalConceptos');
            renderTable(presupuestosData, 'tablePresupuestos', 'headPresupuestos', 'bodyPresupuestos', 'totalPresupuestos');
            renderTable(tramitesData, 'tableTramites', 'headTramites', 'bodyTramites', 'totalTramites');
            
            console.log('‚úÖ Sistema cargado en modo solo lectura');
        });
    </script>
</body>
</html>